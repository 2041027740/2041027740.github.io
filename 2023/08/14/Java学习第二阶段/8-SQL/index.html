<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.18.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="空灵">
<meta property="og:type" content="article">
<meta property="og:title" content="8_SQL">
<meta property="og:url" content="http://example.com/2023/08/14/Java%E5%AD%A6%E4%B9%A0%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/8-SQL/index.html">
<meta property="og:site_name" content="星辰可染呀">
<meta property="og:description" content="空灵">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="d:\git\java-53-course-materials\02-DSDB\02-%E7%AC%94%E8%AE%B0\img\%E4%BB%93%E5%BA%93.png">
<meta property="og:image" content="d:\git\java-53-course-materials\02-DSDB\02-%E7%AC%94%E8%AE%B0\img-database\image-20221205094423367.png">
<meta property="og:image" content="d:\git\java-53-course-materials\02-DSDB\02-%E7%AC%94%E8%AE%B0\img-database\%E8%BD%AF%E4%BB%B6%E5%8C%85%E4%BD%8D%E7%BD%AE.png">
<meta property="og:image" content="d:\git\java-53-course-materials\02-DSDB\02-%E7%AC%94%E8%AE%B0\img-database\%E5%A6%82%E4%BD%95%E7%A1%AE%E8%AE%A4mysql%E5%AE%89%E8%A3%85%E5%AE%8C%E6%88%90.png">
<meta property="og:image" content="d:\git\java-53-course-materials\02-DSDB\02-%E7%AC%94%E8%AE%B0\img-database\%E9%BB%98%E8%AE%A4%E5%AE%89%E8%A3%85%E7%9B%AE%E5%BD%95.png">
<meta property="og:image" content="d:\git\java-53-course-materials\02-DSDB\02-%E7%AC%94%E8%AE%B0\img-database\%E8%AE%BE%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F.png">
<meta property="og:image" content="d:\git\java-53-course-materials\02-DSDB\02-%E7%AC%94%E8%AE%B0\img-database\%E8%BD%AF%E4%BB%B6%E6%9E%B6%E6%9E%84.png">
<meta property="og:image" content="d:\git\java-53-course-materials\02-DSDB\02-%E7%AC%94%E8%AE%B0\img-database\%E6%95%B0%E6%8D%AE%E5%BA%93%E5%86%85%E9%83%A8%E7%BB%84%E7%BB%87%E8%A1%A8%E5%BD%A2%E5%BC%8F.png">
<meta property="og:image" content="d:\git\java-53-course-materials\02-DSDB\02-%E7%AC%94%E8%AE%B0\img-database\%E6%95%B0%E6%8D%AE%E5%BA%931.jpg">
<meta property="og:image" content="d:\git\java-53-course-materials\02-DSDB\02-%E7%AC%94%E8%AE%B0\img-database\mysql%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%9C%8D%E5%8A%A1%E7%AB%AF.png">
<meta property="og:image" content="d:\git\java-53-course-materials\02-DSDB\02-%E7%AC%94%E8%AE%B0\img-database\%E7%99%BB%E5%BD%95%E7%AA%97%E5%8F%A3.png">
<meta property="og:image" content="d:\git\java-53-course-materials\02-DSDB\02-%E7%AC%94%E8%AE%B0\img-database\%E9%BB%98%E8%AE%A4%E8%87%AA%E5%B8%A6%E7%9A%84%E5%BA%93.png">
<meta property="og:image" content="d:\git\java-53-course-materials\02-DSDB\02-%E7%AC%94%E8%AE%B0\img-database\image-20230411110258332.png">
<meta property="og:image" content="d:\git\java-53-course-materials\02-DSDB\02-%E7%AC%94%E8%AE%B0\img-database\%E5%88%9B%E5%BB%BA%E5%BA%93&%E6%9F%A5%E8%AF%A2%E5%BA%93%E8%AF%AD%E5%8F%A5.png">
<meta property="og:image" content="d:\git\java-53-course-materials\02-DSDB\02-%E7%AC%94%E8%AE%B0\img-database\%E5%AD%97%E7%AC%A6%E9%9B%86%E7%9A%84%E8%AF%B4%E6%98%8E.png">
<meta property="og:image" content="d:\git\java-53-course-materials\02-DSDB\02-%E7%AC%94%E8%AE%B0\img-database\%E7%8F%AD%E7%BA%A7%E6%95%B0%E6%8D%AE%E5%88%9D%E5%A7%8B%E5%8C%96.png">
<meta property="og:image" content="d:\git\java-53-course-materials\02-DSDB\02-%E7%AC%94%E8%AE%B0\img-database\image-20220511112342177.png">
<meta property="og:image" content="d:\git\java-53-course-materials\02-DSDB\02-%E7%AC%94%E8%AE%B0\img-database\image-20220512093032240.png">
<meta property="og:image" content="d:\git\java-53-course-materials\02-DSDB\02-%E7%AC%94%E8%AE%B0\img-database\image-20220512094324425.png">
<meta property="og:image" content="d:\git\java-53-course-materials\02-DSDB\02-%E7%AC%94%E8%AE%B0\img-database\image-20220512095229401.png">
<meta property="og:image" content="d:\git\java-53-course-materials\02-DSDB\02-%E7%AC%94%E8%AE%B0\img-database\image-20220512101248071.png">
<meta property="og:image" content="d:\git\java-53-course-materials\02-DSDB\02-%E7%AC%94%E8%AE%B0\img-database\image-20220512104553268.png">
<meta property="og:image" content="d:\git\java-53-course-materials\02-DSDB\02-%E7%AC%94%E8%AE%B0\img\image-20230410161359471.png">
<meta property="og:image" content="d:\git\java-53-course-materials\02-DSDB\02-%E7%AC%94%E8%AE%B0\img-database\image-20220512150057177.png">
<meta property="article:published_time" content="2023-08-14T00:31:38.000Z">
<meta property="article:modified_time" content="2023-08-14T15:13:00.566Z">
<meta property="article:author" content="染星辰">
<meta property="article:tag" content="HTTP和Tomcat">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="d:\git\java-53-course-materials\02-DSDB\02-%E7%AC%94%E8%AE%B0\img\%E4%BB%93%E5%BA%93.png">


<link rel="canonical" href="http://example.com/2023/08/14/Java%E5%AD%A6%E4%B9%A0%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/8-SQL/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"http://example.com/2023/08/14/Java%E5%AD%A6%E4%B9%A0%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/8-SQL/","path":"2023/08/14/Java学习第二阶段/8-SQL/","title":"8_SQL"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>8_SQL | 星辰可染呀</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">星辰可染呀</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">恰似人间惊鸿客，墨染星辰云水间</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80"><span class="nav-text">数据库基础</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-text">什么是数据库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%8E%86%E5%8F%B2"><span class="nav-text">数据库的历史</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%88%86%E7%B1%BB"><span class="nav-text">数据库分类</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-text">关系型数据库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93-NoSQL"><span class="nav-text">非关系型数据库(NoSQL)</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%89%E8%A3%85"><span class="nav-text">数据库安装</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9E%84%E6%88%90"><span class="nav-text">数据库构成</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BD%AF%E4%BB%B6%E6%9E%B6%E6%9E%84"><span class="nav-text">软件架构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MySQL%E7%9A%84%E5%86%85%E9%83%A8%E6%95%B0%E6%8D%AE%E7%BB%84%E7%BB%87%E6%96%B9%E5%BC%8F"><span class="nav-text">MySQL的内部数据组织方式</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#SQL%E8%AF%AD%E8%A8%80"><span class="nav-text">SQL语言</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#SQL%E7%9A%84%E5%9F%BA%E7%A1%80%E6%93%8D%E4%BD%9C"><span class="nav-text">SQL的基础操作</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%99%BB%E5%BD%95%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-text">登录数据库</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%BA%93%E6%93%8D%E4%BD%9C"><span class="nav-text">库操作</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E5%BA%93"><span class="nav-text">查看库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E5%BA%93"><span class="nav-text">创建库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-text">删除数据库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-text">修改数据库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-text">选择数据库</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%A1%A8%E6%93%8D%E4%BD%9C"><span class="nav-text">表操作</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E8%A1%A8"><span class="nav-text">创建表</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E8%A1%A8"><span class="nav-text">删除表</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E8%A1%A8"><span class="nav-text">查看表</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E8%A1%A8"><span class="nav-text">修改表</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%B3%E4%BA%8E%E5%AD%97%E7%AC%A6%E9%9B%86%E5%92%8C%E6%A0%A1%E5%AF%B9%E8%A7%84%E5%88%99%E7%9A%84%E8%AF%B4%E6%98%8E"><span class="nav-text">关于字符集和校对规则的说明</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E6%93%8D%E4%BD%9C"><span class="nav-text">数据操作</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E6%95%B0%E6%8D%AE"><span class="nav-text">添加数据</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE"><span class="nav-text">查询数据</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE"><span class="nav-text">修改数据</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE"><span class="nav-text">删除数据</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%89%B9%E6%AE%8A%E5%85%B3%E9%94%AE%E5%AD%97"><span class="nav-text">特殊关键字</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#where-%E6%9D%A1%E4%BB%B6"><span class="nav-text">where-条件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#distinct-%E8%BF%87%E6%BB%A4"><span class="nav-text">distinct-过滤</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#limit-%E9%99%90%E5%88%B6%E7%BB%93%E6%9E%9C%E9%9B%86"><span class="nav-text">limit-限制结果集</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#as-%E5%88%AB%E5%90%8D"><span class="nav-text">as-别名</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#order-by-%E6%8E%92%E5%BA%8F"><span class="nav-text">order by-排序</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#group-by-%E5%88%86%E7%BB%84"><span class="nav-text">group by-分组</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0"><span class="nav-text">聚合函数</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#SQL%E8%AF%AD%E5%8F%A5%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F"><span class="nav-text">SQL语句执行顺序</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="nav-text">数据完整性</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%9E%E4%BD%93%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="nav-text">实体完整性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%9F%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="nav-text">域完整性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%82%E7%85%A7%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="nav-text">参照完整性</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%A4%9A%E8%A1%A8%E8%AE%BE%E8%AE%A1"><span class="nav-text">多表设计</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%80%E5%AF%B9%E4%B8%80"><span class="nav-text">一对一</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%80%E5%AF%B9%E5%A4%9A"><span class="nav-text">一对多</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%9A%E5%AF%B9%E5%A4%9A"><span class="nav-text">多对多</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E4%B8%89%E5%A4%A7%E8%8C%83%E5%BC%8F"><span class="nav-text">数据库设计三大范式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AC%AC%E4%B8%80%E8%8C%83%E5%BC%8F"><span class="nav-text">第一范式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AC%AC%E4%BA%8C%E8%8C%83%E5%BC%8F"><span class="nav-text">第二范式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AC%AC%E4%B8%89%E8%8C%83%E5%BC%8F"><span class="nav-text">第三范式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2"><span class="nav-text">多表查询</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2"><span class="nav-text">连接查询</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%A4%E5%8F%89%E8%BF%9E%E6%8E%A5"><span class="nav-text">交叉连接</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%86%85%E8%BF%9E%E6%8E%A5"><span class="nav-text">内连接</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%96%E8%BF%9E%E6%8E%A5"><span class="nav-text">外连接</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="nav-text">子查询</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%81%94%E5%90%88%E6%9F%A5%E8%AF%A2%EF%BC%88%E4%BA%86%E8%A7%A3%EF%BC%89"><span class="nav-text">联合查询（了解）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8D"><span class="nav-text">数据库的备份与恢复</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%91%BD%E4%BB%A4%E8%A1%8C"><span class="nav-text">命令行</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Navicat"><span class="nav-text">Navicat</span></a></li></ol></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">染星辰</p>
  <div class="site-description" itemprop="description">一生温暖纯良，不舍爱与自由</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">20</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">16</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/08/14/Java%E5%AD%A6%E4%B9%A0%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/8-SQL/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="染星辰">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="星辰可染呀">
      <meta itemprop="description" content="一生温暖纯良，不舍爱与自由">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="8_SQL | 星辰可染呀">
      <meta itemprop="description" content="空灵">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          8_SQL
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2023-08-14 08:31:38 / 修改时间：23:13:00" itemprop="dateCreated datePublished" datetime="2023-08-14T08:31:38+08:00">2023-08-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/java%E5%AD%A6%E4%B9%A0%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5%E8%AF%BE%E4%BB%B6/" itemprop="url" rel="index"><span itemprop="name">java学习第二阶段课件</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
</div>

            <div class="post-description">空灵</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h1 id="数据库基础"><a href="#数据库基础" class="headerlink" title="数据库基础"></a>数据库基础</h1><p>学习目标：<span style=color:yellow;background:red><strong>SQL是重点，需要重点掌握。</strong></span></p>
<ul>
<li>掌握什么是数据库。为什么有数据库这个东西</li>
<li>了解关系型数据库，非关系型数据库。在工作中的主要区别。</li>
<li>熟悉库、表、数据，内部组织形式</li>
<li>掌握对库的增加、删除、查询操作。修改操作了解即可</li>
<li>掌握对表的增加、删除、查询操作。修改操作了解即可</li>
<li>掌握对数据的增删改查。<span style=color:yellow;background:red><strong>非常重要</strong></span>。</li>
<li>掌握特殊关键字的使用</li>
<li>了解多表设计，并能对常见的表格进行建表操作</li>
<li>了解数据库设计三大范式</li>
<li>熟练掌握多表查询，内连接和外连接的区别及联系。</li>
</ul>
<h2 id="什么是数据库"><a href="#什么是数据库" class="headerlink" title="什么是数据库"></a>什么是数据库</h2><p><font color=red><b>数据库，是存储和管理数据的仓库。</b></font><br>什么是仓库，就是有效的组织物品的地方。所谓数据仓库，就是集中存放数据的地方，且可以有效的组织这些数据，利用这些数据。</p>
<p><img src="D:\git\java-53-course-materials\02-DSDB\02-笔记\img\仓库.png" alt="image-20230209171150658"></p>
<p>图书馆。 书非常多。 索引。  高效组织图书的仓库。</p>
<p>超市。   山姆。万达。</p>
<p><font color=red><strong>存储数据</strong></font></p>
<p>txt也可以存储。excel也可以存储。为什么需要数据库呢？</p>
<p>组织数据的效率不高。</p>
<p>生活中excel，很多单位使用excel来存储一些数据，比如一些仓库，或者班主任让大家填写信息的时候。</p>
<p>那我们为什么需要学习数据库呢？<font color=red><strong>因为excel功能不够强大</strong></font>，而且数据量太大的情况下，<font color=red><strong>性能太低。</strong></font><br>和excel类似，数据库也是采用表格来管理数据的。</p>
<blockquote>
<ol>
<li><p>Database<strong>：</strong>A database is an organized collection of data,stored and accessed electronically.</p>
</li>
<li><p>数据库是按照数据结构来组织、存储和管理数据的仓库。分门别类的来存储数据。</p>
</li>
<li><p>数据库是一种结构化信息或数据的有组织的集合。</p>
</li>
<li><p>在现实中，数据、<a href="Database%20Management%20System">数据库管理系统 (DBMS)</a> 一起被称为数据库系统，通常简称为数据库。</p>
</li>
</ol>
</blockquote>
<p>结构化信息： 对于每一行，结构都是一致的。比如第一行  有三列，第10000行，也有三列。</p>
<h2 id="数据库的历史"><a href="#数据库的历史" class="headerlink" title="数据库的历史"></a>数据库的历史</h2><blockquote>
<p>自 20 世纪 60 年代初诞生至今，数据库已经发生了翻天覆地的变化。最初，人们使用分层数据库（树形模型&#x2F;一对多）和网络数据库（图模型&#x2F;多对多）这样的导航数据库来存储和操作数据。这些早期系统虽然简单，但缺乏灵活性。<br>20 世纪 80 年代，<a href="">关系数据库</a>开始兴起.<br>20 世纪 90 年代，<a href="">面向对象的数据库</a>开始成为主流。<br>最近，随着互联网的快速发展，为了更快速地处理非结构化数据，<a href="">NoSQL 数据库</a>应运而生。主要特点就是快。</p>
</blockquote>
<h1 id="数据库分类"><a href="#数据库分类" class="headerlink" title="数据库分类"></a>数据库分类</h1><h2 id="关系型数据库"><a href="#关系型数据库" class="headerlink" title="关系型数据库"></a>关系型数据库</h2><p><font color=red><strong>什么是关系型数据库呢？</strong></font><br>关系型数据库表示这种数据库，不仅可以存储数据，还可以存储数据与数据之间的关系。<br>这种，我不仅可以存数据，还可以用存关系的数据库，这就是关系型数据库。比如这个省份表，城市表，以及它们的关系，在关系型数据库中，可以存储这种关联。</p>
<p><img src="D:\git\java-53-course-materials\02-DSDB\02-笔记\img-database\image-20221205094423367.png" alt="image-20221205094423367"></p>
<p>接下来，我们介绍几款常见的关系型数据库。</p>
<ul>
<li><p>Oracle：甲骨文公司的一个产品，世界上使用最多的收费型数据库。性能较好。</p>
<blockquote>
<p>又名Oracle RDBMS(Relational Database Management System)，或简称Oracle。是甲骨文公司的一款关系数据库管理系统。它是在数据库领域一直处于领先地位的产品。可以说Oracle数据库系统是世界上流行的关系数据库管理系统，系统可移植性好、使用方便、功能强，适用于各类大、中、小微机环境。它是一种高效率的、可靠性好的、适应高吞吐量的数据库方案<br><font color=red><b>使用公司</b></font>：大商业公司，政府使用较多，但近几年由于一些原因，银行，政府机构等正在替换Oracle。</p>
</blockquote>
</li>
<li><p><span style="color:red;background:yellow"><b>MySQL</b></span>：最流行的关系型数据库，之前是开源的。</p>
<blockquote>
<p>由瑞典MySQL AB公司开发，目前属于Oracle旗下产品。MySQL是最流行的关系型数据库管理系统之一。<br>目前分为两种版本：社区版，收费版。<br>注：2008年被Sun公司收购。2009年，Sun公司被Oracle收购。<br><font color=red><b>使用公司</b></font>：中小企业，追求快速发展。性能非常优秀。</p>
</blockquote>
</li>
<li><p>MariaDB：MySQL原作者开发的，MySQL被Oracle收购后，考虑到Oracle可能会将其闭源，所以基于MySQL的一个分支，又开发了一个MariaDB。</p>
</li>
</ul>
<blockquote>
<p>MariaDB数据库管理系统是MySQL的一个分支，主要由开源社区在维护，采用GPL授权许可 MariaDB的目的是完全兼容MySQL，包括API和命令行，使之能轻松成为MySQL的代替品。MariaDB名称来自Michael Widenius的女儿Maria的名字。</p>
<p><font color=red><b>使用公司</b></font>：中小企业，追求快速发展。MySQL作者的粉丝。MaxDB</p>
</blockquote>
<ul>
<li>Sql server：微软开发的。</li>
</ul>
<blockquote>
<p>SQL Server是由微软公司开发的一种关系型据库管理系统，它已广泛用于电子商务、银行、保险、电力等行业。SQLServer提供了对XML和Internet标准的支持，具有强大的、灵活的、基于Web的应用程序管理功能。而且界面友好、易于操作，深受广大用户的喜爱，但它只能在Windows平台上运行(2017 SQL Server后对Linux支持)，并对操作系统的稳定性要求较高，因此很难处理日益增长的用户数量。<br><font color=red><b>使用公司</b></font>：中大型企业。国内用的不多。</p>
</blockquote>
<ul>
<li>DB2数据库</li>
</ul>
<blockquote>
<p>DB2数据库是由IBM公司研制的一种关系型数据库管理系统，主要应用于OS&#x2F;2、Windows等平台下，具有较好的可伸缩性，可支持从大型计算机到单用户环境。<br>DB2支持标准的SQL，并且提供了高层次的数据利用性、完整性、安全性和可恢复性，以及从小规模到大规模应用程序的执行能力，适合于海量数据的存储，但相对于其他数据库管理系统而言，DB2的操作比较复杂。<br><font color=red><b>使用公司</b></font>：大公司，政府部门</p>
</blockquote>
<ul>
<li>PostgreSQL</li>
</ul>
<blockquote>
<p>是以<a href="">加州大学伯克利分校</a>计算机系开发的 Postgres 版本 4.2 为基础的对象关系型数据库管理系统（ORDBMS）。<br>因为许可证的灵活，任何人都可以以任何目的免费使用、修改和分发PostgreSQL。<br><font color=red><b>使用公司</b></font>：有自研能力的公司使用较多。例如国内的华为。</p>
</blockquote>
<p>去 IOE（阿里提出的） ： IBM的小型机（20-30w），Oracle的数据库，EMC，EMC代表数据存储</p>
<h2 id="非关系型数据库-NoSQL"><a href="#非关系型数据库-NoSQL" class="headerlink" title="非关系型数据库(NoSQL)"></a>非关系型数据库(NoSQL)</h2><p>Not only SQL<br>不仅仅只有SQL。<font color=red><b>对关系型数据库的补充</b></font>，主要是用来做一些关系型数据库不擅长的事情。关系型数据库的数据，一般是存储在磁盘上，所以速度比较慢。非关系型数据库一般是存在内存中的，所以性能比较好。</p>
<blockquote>
<p>SQL： Structed Query Lanugage,结构化查询语言。是一种专门用来和数据库通信的标准语言，<strong>用于向数据库存取数据以及查询、更新和管理关系数据库系统</strong>。 每个关系型数据库都支持SQL语言。<br><span style=color:red;background:yellow><b>为什么有SQL</b></span>：数据库产品纷繁复杂，如果没有一套标准的查询语言，对开发者的学习成本和企业的切换成本很高。</p>
</blockquote>
<p>常见的非关系型数据库</p>
<ul>
<li>Redis（后面会学）： 最常用的非关系型数据库，数据存在内存，速度快，吞吐量高。单机10w吞吐。</li>
</ul>
<blockquote>
<p>Remote Dictionary Server(Redis) 是一个由 Salvatore Sanfilippo 写的 key-value 存储系统，是跨平台的非关系型数据库。 Redis 是一个开源的使用 ANSI C 语言编写、遵守 BSD 协议、支持网络、可基于内存、分布式、可选持久性的键值对(Key-Value)存储数据库，并提供多种语言的 API。它是一个基于内存实现的键值型非关系（NoSQL）数据库<br>Redis 遵守 BSD 协议，实现了免费开源，其最新版本是 6.20，常用版本包括 3.0 、4.0、5.0。自 Redis 诞生以来，它以其超高的性能、完美的文档和简洁易懂的源码广受好评，国内外很多大型互联网公司都在使用 Redis，比如腾讯、阿里、Twitter、Github 等等。</p>
<p>redisCli.put(“name”, “zhangsan”);</p>
<p>redisCli.get(“name”); Map </p>
</blockquote>
<ul>
<li>Memcached</li>
</ul>
<blockquote>
<p>基于内存的key-value数据库。出现自Redis之前，但有一些问题。<br>    - 数据全部在内存中，断电后会挂掉，数据不能超过内存大小<br>    - 支持的类型不丰富<br>    所以目前公司使用它的较少，一些老项目可能仍然在使用，新项目无使用它的。</p>
</blockquote>
<ul>
<li>Mongodb：文档数据库。存储大量文档的。</li>
<li>Hbase：大数据领域使用的比较多的数据库，列式数据库。</li>
</ul>
<p>数据库有很多种，这无关孰优孰劣(没有谁好谁差之分)，<span style=color:red;background:yellow><b>主要取决于企业希望如何使用数据.</b></span></p>
<p>企业要求： 钱少，能用。性能差不多就可以。  MySQL</p>
<p>政府要求： 钱无所谓，千万数据要安全。</p>
<blockquote>
<p>关系型数据库和非关系型数据库, 区别很多.<br>而在关系型和非关系型数据中,最本质的区别是: 关系型数据库以<code>数据和数据之间存在的关系</code>维护数据, 而非关系型数据库是指存储数据的时候<code>数据和数据之间没有什么特定关系</code>.<br>在大多数时候, 非关系型数据库是在传统关系型数据库基础上(其实已经基本上完全不同), 在功能上简化, 在数据存储结构上大大改变, 在效率上提升. 通过减少用不到或很少用的功能, 在能力弱化的同时也带来产品性能的大幅度提高.<br>但是本质上讲, 他们都是用来存储数据的. 而对于我们Java后端开发来讲,<span style=color:red;background:yellow><b> 我们在工作中基本上是以关系型数据库为主, 非关系型数据库为辅的用法.</b></span></p>
</blockquote>
<p>比如我有一些接口。  <code>/user/miaosha </code>对速度的要求比较高。 我们就可以采用非关系型数据库来存储数据（因为速度快），可以提高接口的处理请求能力。 </p>
<h1 id="数据库安装"><a href="#数据库安装" class="headerlink" title="数据库安装"></a>数据库安装</h1><p><img src="D:\git\java-53-course-materials\02-DSDB\02-笔记\img-database\软件包位置.png"></p>
<p><strong>怎么确认安装完成了</strong><br><img src="D:\git\java-53-course-materials\02-DSDB\02-笔记\img-database\如何确认mysql安装完成.png"></p>
<p>需要配置环境变量</p>
<p><img src="D:\git\java-53-course-materials\02-DSDB\02-笔记\img-database\默认安装目录.png"><br>默认安装目录： <code>C:\Program Files\MySQL\MySQL Server 5.7</code>。里面有一个<code>bin</code>目录，都是启动命令等。</p>
<p>环境变量的设置<br><img src="D:\git\java-53-course-materials\02-DSDB\02-笔记\img-database\设置环境变量.png"></p>
<p><span style=color:yellow;background:red><strong>对于win7的同学，操作环境变量需要注意。添加Path时候，不要把其他的环境变量全部删除了。</strong></span></p>
<h1 id="数据库构成"><a href="#数据库构成" class="headerlink" title="数据库构成"></a>数据库构成</h1><h2 id="软件架构"><a href="#软件架构" class="headerlink" title="软件架构"></a>软件架构</h2><blockquote>
<p>在互联网的网络交互和数据访问中,一般常见两种网络架构模式: B&#x2F;S结构或者C&#x2F;S结构.<br>B&#x2F;S: Browser-Server即浏览器和服务器, 即通过浏览器和服务器发起网络交互的数据请求.<br>C&#x2F;S: Client-Server即客户端和服务器, 即通过客户端和服务器发起网络交互的数据请求.<br><img src="D:\git\java-53-course-materials\02-DSDB\02-笔记\img-database\软件架构.png"></p>
</blockquote>
<h2 id="MySQL的内部数据组织方式"><a href="#MySQL的内部数据组织方式" class="headerlink" title="MySQL的内部数据组织方式"></a>MySQL的内部数据组织方式</h2><blockquote>
<p>在MySQL中, 我们对数据的组织逻辑上是按照库&#x2F;表&#x2F;数据 这种结构组织的.<br>数据库: 表示一份完整的数据仓库, 在这个数据仓库中分为多张不同的表.<br>表: 表示某种特定类型数据的的结构化清单, 里面包含多条数据.<br>数据: 表中数据的基本单元.</p>
</blockquote>
<p><img src="D:\git\java-53-course-materials\02-DSDB\02-笔记\img-database\数据库内部组织表形式.png"></p>
<h1 id="SQL语言"><a href="#SQL语言" class="headerlink" title="SQL语言"></a>SQL语言</h1><blockquote>
<p>SQL：结构化查询语言（Structured Query Language）简称SQL，是一种专门用来和数据库通信的语言，<strong>用于向数据库存取数据以及查询、更新和管理关系数据库系统</strong>。<br>与其他语言(Java, C++…)不同的是, SQL由很少的词构成, 这是希望从数据库读写数据时能以更简单有效的方法进行.</p>
</blockquote>
<p><span style=color:red;background:yellow><b>SQL有如下优点</b></span></p>
<blockquote>
<p>SQL语言不是某个特定的数据库提供的语言, 它是一种数据库标准语言.(最初由美国国家标准局 ANSI于1986年完成第一版SQL标准的定义,即SQL-86).<font color=red><b>这也就意味着每个关系型数据库都支持SQL语言.</b></font><br>SQL简单易学, 是由多个描述性很强的单词构成, 并且这些单词数量不多.<br>SQL尽管看上去很简单, 但是非常强有力; 灵活的使用SQL, 可以进行比较复杂的和高级的数据库操作.</p>
</blockquote>
<p><img src="D:\git\java-53-course-materials\02-DSDB\02-笔记\img-database\数据库1.jpg"></p>
<h1 id="SQL的基础操作"><a href="#SQL的基础操作" class="headerlink" title="SQL的基础操作"></a>SQL的基础操作</h1><h2 id="登录数据库"><a href="#登录数据库" class="headerlink" title="登录数据库"></a>登录数据库</h2><blockquote>
<p>MySQL是C&#x2F;S架构的软件，所以我们的Server是一直启动着的，我们使用官方提供的客户端去连接Server，然后发送命令给server端执行，server端返回执行结果。<br><img src="D:\git\java-53-course-materials\02-DSDB\02-笔记\img-database\mysql客户端服务端.png"></p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">mysql -uroot -p</span> </span><br><span class="line">输入密码</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">mysql -uroot -p123456</span></span><br><span class="line">-- 不建议大家直接把密码写在控制台上</span><br><span class="line">不建议这样写。因为按上下键，可能能看到你的密码，不安全。</span><br></pre></td></tr></table></figure>

<p><img src="D:\git\java-53-course-materials\02-DSDB\02-笔记\img-database\登录窗口.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">-- 大家进入企业里面了。注意用户名和密码。 一般不是root</span><br><span class="line">ec2-198-51-100-1.compute-1.amazonaws.com:3306    33060  33061   33062</span><br><span class="line">Qw4Rt9Lp7Kj2HxY</span><br><span class="line">Zs8Xd3Cv6Nm1GbE</span><br><span class="line"></span><br><span class="line">有个同学入职了。三天不知道怎么连数据库。</span><br><span class="line"></span><br><span class="line">root</span><br><span class="line">123456</span><br><span class="line"></span><br><span class="line">-- 环境的问题，可以问同事，不要怕。你不知道，也可以先问同学，问老师。</span><br><span class="line">-- 现在要查看一个机器的CPU和内存。 </span><br><span class="line">-- 问问chatGPT</span><br><span class="line">-- 搜索搜索。 </span><br><span class="line"></span><br><span class="line">-- 也要注意度。 </span><br></pre></td></tr></table></figure>



<h1 id="库操作"><a href="#库操作" class="headerlink" title="库操作"></a>库操作</h1><h2 id="查看库"><a href="#查看库" class="headerlink" title="查看库"></a>查看库</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查看所有数据库</span></span><br><span class="line"><span class="keyword">show</span> databases;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 模糊匹配查找数据库</span></span><br><span class="line"><span class="keyword">show</span> databases <span class="keyword">like</span> &quot;test%&quot;;</span><br><span class="line"><span class="comment">-- test% 表示以test开头</span></span><br><span class="line"><span class="comment">-- %info  表示以info结尾</span></span><br><span class="line"><span class="comment">-- %info% 表示 info可以出现在任意位置</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查看创建数据库命令</span></span><br><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> database db_name;</span><br><span class="line"><span class="comment">-- 查看创建db_name 的SQL语句</span></span><br><span class="line"></span><br><span class="line">`test2`</span><br><span class="line">单引号的作用，标识这是一个普通的文本，不是关键字。比如创库的时候，想创建一个<span class="keyword">select</span>库。</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span>   <span class="keyword">create</span> database `<span class="keyword">select</span>`;</span><br><span class="line"></span><br><span class="line">``的位置，在esc的下方，<span class="number">1</span>的左边，注意输入法是英文的。</span><br></pre></td></tr></table></figure>

<p><img src="D:\git\java-53-course-materials\02-DSDB\02-笔记\img-database\默认自带的库.png"><br><span style=color:red;background:yellow><b>不要删除默认的自带的库。</b></span>尤其是<code>mysql</code> 、<code>performance_schema</code> 、<code>information_schema</code></p>
<h2 id="创建库"><a href="#创建库" class="headerlink" title="创建库"></a>创建库</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建一个叫 db_name 的数据库  注意  库名，表名，列名均不区分大小写</span></span><br><span class="line"><span class="comment">-- dbName   db_name</span></span><br><span class="line"><span class="comment">-- dbName   dbname  </span></span><br><span class="line"><span class="keyword">create</span> database db_name;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 取数据库的名字的时候。要用  下划线进行分割。    ---&gt; 库名 表名 字段名，都必须是小写，以下划线进行分割。无论题目怎么要求。 写错了 跑2km。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- create database teacherInfo;  </span></span><br><span class="line"><span class="comment">-- 能不能取这个名字？   MySQL不会给你报错。但是有可能会出现问题</span></span><br><span class="line"><span class="comment">-- 在windows上不区分大小写；在Linux上区分大小写。容易给后续埋下坑。  </span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- teacherInfo    ——--》 teacher_info</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 不能这样写</span></span><br><span class="line"><span class="keyword">create</span> database teacherInfo;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 要用下划线来区分单词</span></span><br><span class="line"><span class="keyword">create</span> database teacher_info;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 指定字符集和默认校对规则</span></span><br><span class="line"><span class="comment">-- 创建一个数据库，字符集是  utf8mb4  校对规则  utf8mb4_general_ci</span></span><br><span class="line"><span class="keyword">create</span> database db_name <span class="type">character</span> <span class="keyword">set</span> utf8mb4 <span class="keyword">collate</span> utf8mb4_general_ci;</span><br><span class="line"><span class="keyword">create</span> database db_name <span class="type">character</span> <span class="keyword">set</span> utf8mb4 <span class="keyword">collate</span> utf8mb4_bin;</span><br></pre></td></tr></table></figure>

<p><span style=color:red;background:yellow><b>注意 ：库名，表名，列名均不区分大小写，所以如果要区分单词，使用下划线代替。</b></span></p>
<blockquote>
<p>比如：希望一个用来存储学生信息的库，应该命名为student_info，而不是studentInfo</p>
</blockquote>
<p>阿里编程规范</p>
<p><img src="D:\git\java-53-course-materials\02-DSDB\02-笔记\img-database\image-20230411110258332.png" alt="image-20230411110258332"></p>
<blockquote>
<p>MySQL 的字符集（CHARACTER）和校对规则（COLLATION）是两个不同的概念。字符集是用来定义 MySQL 存储字符串的方式，校对规则也可以称为排序规则，是指在同一个字符集内字符之间的比较规则。字符集和校对规则是一对多的关系，每个字符集都有一个默认的校对规则。</p>
<p>推荐大家使用: utf8mb4 。</p>
<p>mysql里面有一个utf8 ,但是它是三个字节的，有一些四个字节的表示不了。</p>
<p>utf8mb4才是真正的utf-8。</p>
</blockquote>
<p>字符集，就是MySQL存储数据的方式。比如现在有一个zhansgan 的字符串，需要存储到MySQL中。因为文件系统中，只能存二进制的。所以需要把zhangsan进行编码，编码之后，才能写入到磁盘里面。</p>
<p>校对规则，是指排序的。比如有一些排序规则区分大小写，有一些排序规则不区分大小写.</p>
<p>utf-8: 使用4个字节来代表一个字符。 MySQL官方有一个utf8.</p>
<p>latin1: <font color=red><strong>不支持中文。</strong></font></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">如果大家没有设置字符集的时候，是latin1的字符集。然后不能存储中文。</span><br><span class="line"></span><br><span class="line">latin1_swedish_ci (case insensitive)</span><br><span class="line">latin1_general_cs (case sensitive)</span><br><span class="line"></span><br><span class="line">区分大小写的 (_cs)</span><br><span class="line">不区分大小写的。(_ci)</span><br></pre></td></tr></table></figure>

<p><span style=color:red;background:yellow><b>注意：</b></span>如果不设置字符集，有可能会使用了默认的latin1，导致存储中文报错。</p>
<p><img src="D:\git\java-53-course-materials\02-DSDB\02-笔记\img-database\创建库&查询库语句.png"></p>
<p>标准的utf8: 使用1-4字节来表示字符。。 </p>
<p>在MySQL里面有utf8，但是是个假的。3个字节。所以我们一般不用utf8。</p>
<p>utf8mb4 ，一般使用utf8mb4来当做字符集。</p>
<p>默认校对规则： utf8mb4_general_ci。</p>
<p>utf8mb4_bin</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查看所有的字符集</span></span><br><span class="line"><span class="keyword">show</span> <span class="type">character</span> <span class="keyword">set</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查看所有的校对规则</span></span><br><span class="line"><span class="keyword">show</span> <span class="keyword">collation</span> <span class="keyword">where</span> charset<span class="operator">=</span><span class="string">&#x27;utf8mb4&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>大小写不敏感是啥意思？   Abc  ABC   abc 。不是存储的时候会变，只是获取出来时候，排序的规则。</p>
<ul>
<li>我存储  Abc  会不会变成  abc.字符集， 校对规则。</li>
<li>select name from user order by name;</li>
</ul>
<h2 id="删除数据库"><a href="#删除数据库" class="headerlink" title="删除数据库"></a>删除数据库</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 删除数据库</span></span><br><span class="line"><span class="keyword">drop</span> database db_name ;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 不要瞎操作。尤其是工作过程中。删库一定要小心再小心。要留证。</span></span><br><span class="line"><span class="comment">-- 删库是一个高危动作。 即使有这种操作，也不应该是你来。</span></span><br><span class="line"><span class="comment">-- 工作过程中，有的要注意留痕。 </span></span><br><span class="line"><span class="comment">-- 在微信上，找他确认。</span></span><br><span class="line"><span class="comment">-- 刘总，您刚刚在电话里说，我需要删除某个环境的某个库，我和您确认一下，防止操作错了。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 是的。</span></span><br></pre></td></tr></table></figure>

<h2 id="修改数据库"><a href="#修改数据库" class="headerlink" title="修改数据库"></a>修改数据库</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 修改指定库的  字符集和校对规则</span></span><br><span class="line"><span class="keyword">alter</span> database db_name <span class="type">character</span> <span class="keyword">set</span> utf8 <span class="keyword">collate</span> utf8_bin;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><font color=red><b>数据库中未提供改库名的操作</b></font>,只提供修改字符集和校对规则。</p>
</blockquote>
<h2 id="选择数据库"><a href="#选择数据库" class="headerlink" title="选择数据库"></a>选择数据库</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 使用db_name这个库</span></span><br><span class="line">use db_name;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>一个MySQL系统中, 管理多个数据库。 我们只有进入对应的数据库中, 才能进一步操作数据库中的数据。<br>因为表都是在库里面的。所以需要进入库中，再对表进行各种操作。</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- &lt;注释&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 使用两个横线进行注释的时候。后面必须跟空格</span></span><br><span class="line"></span><br><span class="line"># <span class="operator">&lt;</span>注释<span class="operator">&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  &lt;注释&gt;</span></span><br><span class="line"><span class="comment">*/</span>    </span><br></pre></td></tr></table></figure>

<blockquote>
<p><font color=red><b>注意:</b></font><br>在数据库语句中如果我们需要注释某些内容, 一般有三种方式。<br><code>--</code> 注释符(要注意的是<code>--</code>之后要有一个空格再接着书写注释内容)<br><code>#</code> 注释符 (之后不需要空格)<br><code>/* */</code> 注释符 (一般用于多行注释)</p>
</blockquote>
<h1 id="表操作"><a href="#表操作" class="headerlink" title="表操作"></a>表操作</h1><p>在表格级别的所有操作，都必须要在数据库中，所以必须要先选择数据库。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 选择指定的数据库</span></span><br><span class="line">use db_name;</span><br></pre></td></tr></table></figure>

<h2 id="创建表"><a href="#创建表" class="headerlink" title="创建表"></a>创建表</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- create table table_name  --&gt;  固定写法，表名自己写，多个单词，下划线隔开</span></span><br><span class="line"><span class="comment">-- (column_name column_type [ , column_name2 column_type])  --&gt;  括号里面写有哪些列,以及列类型</span></span><br><span class="line"><span class="comment">--  </span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> test_table();</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建表格的写法。</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> test_table1( id <span class="type">int</span> , name <span class="type">char</span>(<span class="number">20</span>), )</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 这个SQL相当于创建了一个test1的表。表里面有一列，列名叫id,列类型叫int</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> test1(id <span class="type">int</span>);</span><br></pre></td></tr></table></figure>

<p><span style=color:red;background:yellow;font-size:30><b>类型</b></span></p>
<ul>
<li>数字(整数型)<ul>
<li>tinyint：1字节。 </li>
<li><font color=red><b>int(integer)</b></font>: 4字节。</li>
<li>bigint: 8字节。和long比较像。</li>
</ul>
</li>
<li>数字(小数)<ul>
<li>float(M,D): 4字节。浮点型</li>
<li><font color=red><b>double(M,D)</b></font>: 8字节。浮点型</li>
<li>decimal (M, D),dec: 压缩的“严格”定点数M+2 个字节。定点型。<br>浮点数相对于定点数的优点是在长度一定的情况下，浮点数能够表示更大的范围；缺点是会引起精度问题。</li>
</ul>
</li>
</ul>
<p>M代表的是允许存储的最大位数，D代表是小数位数。也就是留给整数的是 M-D位。如果整数超了，直接报错，如果小数超了，会四舍五入。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">float</span>(M,D) </span><br><span class="line">    <span class="comment">// M代表允许存储的最大位数，D代表小数位数。</span></span><br><span class="line">    <span class="comment">// float(5,2) 代表，最大位数5位，2位小数。 留个整数的就三位</span></span><br><span class="line">    <span class="comment">// 如果整数超了。  ---会报错。Out of range</span></span><br><span class="line">    <span class="comment">// 如果小数超了。  -- 四舍五入   100.6666 --》 100.67</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="type">double</span>也是类似。</span><br><span class="line">    但是要注意，它们都是浮点型。 不精确</span><br><span class="line">    </span><br><span class="line">存钱的时候： 如果之前是<span class="number">100.331</span>  千万不能存储成后面<span class="number">100.33</span> </span><br><span class="line">    </span><br><span class="line">对一些精度要求比较高的数据（货币数据、科学数据），使用DECIMAL 。</span><br><span class="line">    或者使用字符串的形式。</span><br></pre></td></tr></table></figure>



<p>在 MySQL 中，定点数以字符串形式存储，在对精度要求比较高的时候（如货币、科学数据），使用 DECIMAL 的类型比较好，另外两个浮点数进行减法和比较运算时也容易出问题，所以在使用浮点数时需要注意，并尽量避免做浮点数比较。</p>
<ul>
<li><p>日期</p>
<ul>
<li>year：年(YYYY)。</li>
<li>time: 时分秒(HH:MM:SS)。</li>
<li><font color=red><b>date</b></font>: 年月日(YYYY-MM-DD)。</li>
<li><font color=red><b>datetime</b></font>: 年月日时分秒。(YYYY-MM-DD HH:MM:SS)。</li>
<li><font color=red><b>timestamp</b></font>: 年月日时分秒。(YYYY-MM-DD HH:MM:SS)。</li>
</ul>
</li>
<li><p>字符串</p>
<ul>
<li>char(M): 定长字符串，设置了长度，无论存储多少长度的字符串，都会占满M。</li>
<li><font color=red><b>varchar(M)</b></font>：变长字符串，会用1-2字节来存储长度。也就是 实际长度+1(2)。所有的列。<span style=color:red;background:yellow><strong>最大长度65535字节。</strong></span></li>
<li>text：文本字符串，会用2字节来存储长度。最大长度65535字符，约64K。</li>
<li>longtext：大文本字符串。会使用4字节存储长度。最大长度2^32，约4G。</li>
</ul>
<p>如果你需要存储的字符串在2000以内，可以使用varchar()。如果超过，建议使用text。</p>
<p>比如我现在有一个电影 3.8G。需要存怎么办？ 把电影，找个电脑存起来，存路径。 <code>D:/data1/学习.mp4</code></p>
</li>
</ul>
<p>但是一般使用varchar。不会写太多。  varchar(500) varchar(1000) 这个都是可以的。但是如果要写varchar(5000)。不建议使用varchar。</p>
<ul>
<li><span style=color:red;background:yellow><b>举例：</b></span><ul>
<li>现在有一个学生表，需要存储的信息包括，学生id，姓名，年龄，身高，体重，籍贯，身份证号，联系电话</li>
<li>现在有一个图书信息表，需要存储的信息包括，序号，书名，作者，出版社，出版日期，定价，备注</li>
</ul>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 现在有一个学生表，需要存储的信息包括，学生id，姓名，年龄，身高，体重，籍贯，身份证号，联系电话</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student(</span><br><span class="line">    id <span class="type">int</span>,</span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">200</span>),</span><br><span class="line">    age <span class="type">int</span>,</span><br><span class="line">    height <span class="type">float</span>(<span class="number">10</span>,<span class="number">2</span>),</span><br><span class="line">    weight <span class="type">float</span>(<span class="number">10</span>,<span class="number">2</span>),</span><br><span class="line">    address <span class="type">varchar</span>(<span class="number">500</span>),</span><br><span class="line">    id_card <span class="type">varchar</span>(<span class="number">50</span>),</span><br><span class="line">    phone <span class="type">varchar</span>(<span class="number">50</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 建表语句的原则。应该留有一定扩展性。</span></span><br><span class="line"></span><br><span class="line"><span class="type">varchar</span>(<span class="number">2</span>) <span class="type">varchar</span>(<span class="number">5</span>) <span class="type">varchar</span>(<span class="number">10</span>) <span class="type">varchar</span>(<span class="number">50</span>) <span class="type">varchar</span>(<span class="number">200</span>) </span><br><span class="line">写得多，并不一定会直接占用那么多。 <span class="type">varchar</span>(<span class="number">5</span>)。建表的时候留有扩展空间，防止后续数据量变大了之后，频繁去改表。</span><br><span class="line">所以在最开始创建表的时候，直接写大一点点。</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 现在有一个图书信息表，需要存储的信息包括，序号，书名，作者，出版社，出版日期，定价，备注</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> book_info(</span><br><span class="line">    id <span class="type">int</span>,</span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">200</span>),</span><br><span class="line">    author_name <span class="type">varchar</span>(<span class="number">200</span>),</span><br><span class="line">    press <span class="type">varchar</span>(<span class="number">200</span>),</span><br><span class="line">    publication_date <span class="type">date</span>,</span><br><span class="line">    price <span class="type">decimal</span>(<span class="number">10</span>,<span class="number">2</span>),</span><br><span class="line">    comment text</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 有一些字段，可以根据上下文进行推断，所以我们也可以做一点省略</span></span><br><span class="line"><span class="comment">-- 比如在书这张表里，出现了name，我们会直接认为name是书的名字，不会认为是作者或者其他人的名字，所以可以省略一点点。</span></span><br><span class="line"><span class="comment">-- book_name</span></span><br><span class="line"><span class="comment">-- 可以根据上下文推断。</span></span><br><span class="line"></span><br><span class="line">class Student&#123;</span><br><span class="line">    String studentName;</span><br><span class="line">    String name;</span><br><span class="line">    String teacherName;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="删除表"><a href="#删除表" class="headerlink" title="删除表"></a>删除表</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 删除名为table_name的表</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> table_name;</span><br></pre></td></tr></table></figure>

<h2 id="查看表"><a href="#查看表" class="headerlink" title="查看表"></a>查看表</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查看所有表</span></span><br><span class="line"><span class="keyword">show</span> tables;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查看表格结构(有哪些列，以及列的类型)</span></span><br><span class="line"><span class="keyword">desc</span> table_name;</span><br><span class="line"><span class="keyword">describe</span> table_name;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查看表的创建语句。获取出来的语句，可以直接运行，（改改表名）</span></span><br><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">table</span> table_name;</span><br></pre></td></tr></table></figure>

<ul>
<li><span style=color:red;background:yellow><b>举例：</b></span><ul>
<li>查看学生表创建语句: <code>show create table student;</code></li>
<li>查看图书表创建语句。有哪些列.<code>show create table book_info;</code> <code>desc book_info;</code></li>
</ul>
</li>
</ul>
<h2 id="修改表"><a href="#修改表" class="headerlink" title="修改表"></a>修改表</h2><p>知道有这个东西就可以了，但是在工作中，如果有这种需求，你不要去操作。在自己的数据库上练习一下无所谓。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 修改表名</span></span><br><span class="line">rename <span class="keyword">table</span> &#123;old_table_name&#125; <span class="keyword">to</span> &#123;new_table_name&#125;;</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> &#123;old_table_name&#125; rename <span class="keyword">to</span> &#123;new_table_name&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 修改表字符集 排序规则</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> table_name <span class="type">character</span> <span class="keyword">set</span> utf8mb4 <span class="keyword">collate</span> utf8mb4_bin;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 添加列</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> table_name <span class="keyword">add</span> <span class="keyword">column</span> column_name column_type;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 删除列</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> table_name <span class="keyword">drop</span> <span class="keyword">column</span> column_name;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 修改某列的类型</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> table_name modify <span class="keyword">column</span> column_name column_type;</span><br></pre></td></tr></table></figure>

<p>不要觉得它非常简单，可以无脑冲。</p>
<p>是不是能够直接，把SQL准备好，然后拿上SQL就上生产环境去执行SQL了。</p>
<p>我一执行SQL，SQL一直卡着。客户这边也卡着。内部的锁造成的。</p>
<p>凌晨去执行。</p>
<h2 id="关于字符集和校对规则的说明"><a href="#关于字符集和校对规则的说明" class="headerlink" title="关于字符集和校对规则的说明"></a>关于字符集和校对规则的说明</h2><p>有四个层次的字符集和校对规则。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 数据库服务层面的。有一个字符集和校对规则，如果没有设置，为latin1。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 数据库层面的。</span></span><br><span class="line"><span class="comment">// 它也有一个字符集和校对规则。如果创建的时候没有，就会直接继承服务器的参数，即latin1。</span></span><br><span class="line"> create database test1;   </span><br><span class="line"></span><br><span class="line"><span class="comment">// 表层面的</span></span><br><span class="line">它也有一个字符集和校对规则。如果创建的时候没有，就会直接继承数据库的参数。</span><br><span class="line">create table <span class="title function_">test2</span><span class="params">(</span></span><br><span class="line"><span class="params">	id <span class="type">int</span>,</span></span><br><span class="line"><span class="params">    name varchar(<span class="number">200</span>)</span></span><br><span class="line">) character set utf8mb4;</span><br><span class="line">    </span><br><span class="line"><span class="comment">// 字段层面的</span></span><br><span class="line">它也有一个字符集，如果创建的时候没有，直接继承表层次的。</span><br><span class="line">create table <span class="title function_">test3</span><span class="params">(</span></span><br><span class="line"><span class="params">	id <span class="type">int</span>,</span></span><br><span class="line"><span class="params">    name varchar(<span class="number">200</span>)</span> character set utf8mb4</span><br><span class="line">) </span><br><span class="line">    </span><br><span class="line">创建了一个表之后，它的字段的字符集就固定下来了。现在即使再去改库的字符集，表的字符集，也不会影响列的字符集，所以建议删掉表重新建表。  </span><br><span class="line">    </span><br><span class="line"> <span class="comment">// 先创建了一个  test1的数据库，没有指定字符集。  latin1。 </span></span><br><span class="line"> <span class="comment">// 创建一个  test_table的表。也没有指定   latin1</span></span><br><span class="line"><span class="comment">//  表里面的字段也是latin1</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">// alter database test1 character set utf8mb4;</span></span><br></pre></td></tr></table></figure>

<p><img src="D:\git\java-53-course-materials\02-DSDB\02-笔记\img-database\字符集的说明.png" alt="image-20230508090539735"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 第一步，如果创建库的时候，没有指定字符集和校对规则， 会使用数据库服务层面的字符集和校对规则</span></span><br><span class="line"><span class="comment">-- 会使用服务层面的字符集   latin1</span></span><br><span class="line"><span class="keyword">create</span> database db1; </span><br><span class="line"></span><br><span class="line">use db1;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 没有指定表层级的字符集和校对规则，会使用库层级的。 </span></span><br><span class="line"><span class="comment">-- 表是latin1  列是latin1</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> test1(</span><br><span class="line">	id <span class="type">int</span>,</span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">255</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 一个表一旦创建，列的字符集已经固定下来了，即使你再去改 库的字符集和表的字符集，也不会影响列的字符集。（中文存不进去。）</span></span><br><span class="line"><span class="comment">-- 建议大家把表删掉，再重新建一个表。 </span></span><br></pre></td></tr></table></figure>

<h1 id="数据操作"><a href="#数据操作" class="headerlink" title="数据操作"></a>数据操作</h1><h2 id="添加数据"><a href="#添加数据" class="headerlink" title="添加数据"></a>添加数据</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 插入数据</span></span><br><span class="line"><span class="comment">-- 方式1，指定需要插入的列名，values需要与之对应。</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> table_name (column1, column2, ......) <span class="keyword">values</span> (value1, value2, ......)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 直接在表名后，指定需要插入哪几列，然后在后方 values后，直接写列的值。 要一一对应。</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> test1(id,name,address) <span class="keyword">values</span> (<span class="number">1</span>, &quot;zhangsan&quot;,&quot;hubei&quot;);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 方式2，不指定需要插入的列名。values，必须要写所有value，且与建表语句一一对应</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> table_name <span class="keyword">values</span> (value1, value2, ......)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 方式3，使用set方式</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> table_name <span class="keyword">set</span> column1<span class="operator">=</span>value1, column2<span class="operator">=</span>value2,...;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p><span style=color:red;background:yellow><b>举例：</b></span>现在有一个学生表，表里有以下列，写出SQL</p>
</blockquote>
<table>
<thead>
<tr>
<th>列名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>整型</td>
<td>学生编号</td>
</tr>
<tr>
<td>name</td>
<td>字符串</td>
<td>学生姓名</td>
</tr>
<tr>
<td>age</td>
<td>整型</td>
<td>学生年龄</td>
</tr>
<tr>
<td>address</td>
<td>字符串</td>
<td>学生地址</td>
</tr>
<tr>
<td>remark</td>
<td>字符串</td>
<td>自我评价</td>
</tr>
</tbody></table>
<blockquote>
<p>插入几条数据</p>
</blockquote>
<ul>
<li>编号是1，姓名是 “阿妈粽” ，年龄25， 地址上海，自我评价：是一个up主</li>
<li>编号是2，姓名是 “阿斗归来了” ， 地址湖北，自我评价：是一个视频区up主</li>
<li>编号是3，姓名是 “盗月社” ， 地址上海，自我评价：做饭up主</li>
<li>编号是4，姓名是 “李云龙” ， 地址湖北，自我评价：团长</li>
</ul>
<p>可以插入多行，只用在values后添加多个括号。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> table_name <span class="keyword">values</span> (value1, value2, ......),(valuem,valuen,......),(valuem,valuen,......)</span><br></pre></td></tr></table></figure>



<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>插入数据</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student1(</span><br><span class="line">    id <span class="type">int</span>,</span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">200</span>),</span><br><span class="line">    age <span class="type">int</span>,</span><br><span class="line">    address <span class="type">varchar</span>(<span class="number">200</span>),</span><br><span class="line">    remark <span class="type">varchar</span>(<span class="number">500</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 方式1，指定需要插入的列名，values需要与之对应。</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> table_name (column1, column2, ......) <span class="keyword">values</span> (value1, value2, ......)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- varchar插入数据的时候，需要用引号给引起来。 单引号和双引号都可以</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student1(id,name,age) <span class="keyword">values</span> (<span class="number">10</span>, &quot;景天&quot;, <span class="number">19</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 现在我想插入 名字  年龄  地址 ：  刘俊威  18  重庆</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student1(name, age, address) <span class="keyword">values</span> (<span class="string">&#x27;刘俊威&#x27;</span>, <span class="string">&#x27;18&#x27;</span>, &quot;重庆&quot;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 方式2，不指定需要插入的列名。values，必须要写所有value，且与建表语句一一对应</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> table_name <span class="keyword">values</span> (value1, value2, ......)</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student1 <span class="keyword">values</span>(<span class="number">11</span>, <span class="string">&#x27;张连强&#x27;</span>, <span class="number">19</span>,<span class="string">&#x27;河南&#x27;</span>, <span class="string">&#x27;河南的同学&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 方式3，使用set方式</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> table_name <span class="keyword">set</span> column1<span class="operator">=</span>value1, column2<span class="operator">=</span>value2,...;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 张创亮  12  年龄18 address 广东</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student1 <span class="keyword">set</span> name<span class="operator">=</span><span class="string">&#x27;张创亮&#x27;</span>,id<span class="operator">=</span><span class="number">12</span>, age<span class="operator">=</span><span class="number">18</span>, address<span class="operator">=</span><span class="string">&#x27;广东&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="operator">-</span> 编号是<span class="number">1</span>，姓名是 &quot;阿妈粽&quot; ，年龄<span class="number">25</span>， 地址上海，自我评价：是一个up主</span><br><span class="line"><span class="operator">-</span> 编号是<span class="number">2</span>，姓名是 &quot;阿斗归来了&quot; ， 地址湖北，自我评价：是一个视频区up主</span><br><span class="line"><span class="operator">-</span> 编号是<span class="number">3</span>，姓名是 &quot;盗月社&quot; ， 地址上海，自我评价：做饭up主</span><br><span class="line"><span class="operator">-</span> 编号是<span class="number">4</span>，姓名是 &quot;李云龙&quot; ， 地址湖北，自我评价：团长</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student1 <span class="keyword">values</span> (<span class="number">1</span>, &quot;阿妈粽&quot;, <span class="number">25</span>, &quot;上海&quot;, &quot;是一个up主&quot;);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student1 <span class="keyword">values</span> (<span class="number">2</span>, &quot;阿斗归来了&quot;, <span class="keyword">null</span>, &quot;湖北&quot;, &quot;是一个视频区up主&quot;);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student1 <span class="keyword">values</span> (<span class="number">3</span>, &quot;盗月社&quot;, <span class="keyword">null</span>, &quot;上海&quot;, &quot;做饭up主&quot;);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student1 <span class="keyword">values</span> (<span class="number">4</span>, &quot;李云龙&quot;, <span class="keyword">null</span>, &quot;湖北&quot;, &quot;团长&quot;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student1 <span class="keyword">values</span> (<span class="number">5</span>, &quot;盗月社&quot;, <span class="keyword">null</span>, &quot;上海&quot;, &quot;做饭up主&quot;),(<span class="number">6</span>, &quot;李云龙&quot;, <span class="keyword">null</span>, &quot;湖北&quot;, &quot;团长&quot;);</span><br></pre></td></tr></table></figure>

<h2 id="查询数据"><a href="#查询数据" class="headerlink" title="查询数据"></a>查询数据</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询语句 关键词 select ... from </span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> table_name;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- select .. from 是查询的关键词</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- * 代表选出所有列</span></span><br><span class="line"><span class="comment">-- 也可以写表中的列，多列使用, 分割</span></span><br><span class="line"><span class="comment">-- 比如 select id,name from students;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- table_name 是表名</span></span><br></pre></td></tr></table></figure>

<p>以上是查询所有数据，我需要特定的数据怎么办呢？<br>使用where关键词。where相当于是过滤器。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 找出name是 zs 的表记录</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> table_name <span class="keyword">where</span> name<span class="operator">=</span><span class="string">&#x27;zs&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 找出年龄大于 18岁的人</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> table_name <span class="keyword">where</span> age <span class="operator">&gt;</span> <span class="number">18</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>后面会专门讲where的用法</p>
</blockquote>
<p><span style=color:red;background:yellow><b>举例：</b></span>：我想找出一些数据</p>
<ul>
<li>名字叫做阿妈粽的</li>
<li>年龄大于18的</li>
<li>是湖北人的</li>
</ul>
<h2 id="修改数据"><a href="#修改数据" class="headerlink" title="修改数据"></a>修改数据</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 更新满足条件的表记录，设置列值</span></span><br><span class="line"><span class="keyword">update</span> table_name <span class="keyword">set</span> column1<span class="operator">=</span>value1, column2<span class="operator">=</span>value2 [ <span class="keyword">where</span> 条件];</span><br><span class="line"></span><br><span class="line"><span class="keyword">update</span> student1 <span class="keyword">set</span> remark <span class="operator">=</span> <span class="string">&#x27;测试remark&#x27;</span> ;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li><p><span style=color:yellow;background:red><strong>记住，要加where条件，否则，所有数据都会被更改。</strong></span></p>
<p><span style=color:red;background:yellow><b>举例：</b></span></p>
<ul>
<li>更新湖北的人，地址变成湖北省。自我评价也变成湖北人，能吃辣</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> student1 <span class="keyword">set</span> address<span class="operator">=</span><span class="string">&#x27;湖北省&#x27;</span>,remark<span class="operator">=</span><span class="string">&#x27;湖北人，能吃辣&#x27;</span> <span class="keyword">where</span> address<span class="operator">=</span><span class="string">&#x27;湖北&#x27;</span>;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="删除数据"><a href="#删除数据" class="headerlink" title="删除数据"></a>删除数据</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 删除满足条件的数据</span></span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> table_name [<span class="keyword">WHERE</span> 条件];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">想删除id<span class="operator">=</span><span class="number">10</span>的人。</span><br><span class="line"></span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> student1 <span class="keyword">where</span> id<span class="operator">=</span><span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">想删除 湖北人 </span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> student1  <span class="keyword">where</span> address <span class="operator">=</span> <span class="string">&#x27;湖北省&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><span style=color:yellow;background:red><strong>需要加where条件，否则会删除所有数据。</strong></span></p>
<h1 id="特殊关键字"><a href="#特殊关键字" class="headerlink" title="特殊关键字"></a>特殊关键字</h1><p>数据准备</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `students`  (</span><br><span class="line">	`id` <span class="type">int</span>(<span class="number">11</span>)  <span class="keyword">PRIMARY</span> KEY  AUTO_INCREMENT,</span><br><span class="line">	`name` <span class="type">varchar</span>(<span class="number">255</span>)   ,</span><br><span class="line">	`class` <span class="type">varchar</span>(<span class="number">255</span>)  ,</span><br><span class="line">	`chinese` <span class="type">float</span>  ,</span><br><span class="line">	`english` <span class="type">float</span>  ,</span><br><span class="line">	`math` <span class="type">float</span>  </span><br><span class="line">) ;</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> students (id, name, class, chinese, english, math) <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="string">&#x27;武松&#x27;</span>, <span class="string">&#x27;一班&#x27;</span>, <span class="number">70</span>, <span class="number">90</span>, <span class="number">60</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> students <span class="keyword">VALUES</span> (<span class="number">2</span>, <span class="string">&#x27;林冲&#x27;</span>, <span class="string">&#x27;一班&#x27;</span>, <span class="number">70</span>, <span class="number">90</span>, <span class="number">90</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> students <span class="keyword">VALUES</span> (<span class="number">3</span>, <span class="string">&#x27;松江&#x27;</span>, <span class="string">&#x27;一班&#x27;</span>, <span class="number">90</span>, <span class="number">90</span>, <span class="number">20</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> students <span class="keyword">VALUES</span> (<span class="number">4</span>, <span class="string">&#x27;贾琏&#x27;</span>, <span class="string">&#x27;二班&#x27;</span>, <span class="number">60</span>, <span class="number">60</span>, <span class="number">60</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> students <span class="keyword">VALUES</span> (<span class="number">5</span>, <span class="string">&#x27;贾宝玉&#x27;</span>, <span class="string">&#x27;二班&#x27;</span>, <span class="number">95</span>, <span class="number">80</span>, <span class="number">5</span>); </span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> students <span class="keyword">VALUES</span> (<span class="number">6</span>, <span class="string">&#x27;贾环&#x27;</span>, <span class="string">&#x27;二班&#x27;</span>, <span class="number">25</span>, <span class="number">25</span>, <span class="number">5</span>); </span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> students <span class="keyword">VALUES</span> (<span class="number">7</span>, <span class="string">&#x27;曹操&#x27;</span>, <span class="string">&#x27;三班&#x27;</span>, <span class="number">90</span>, <span class="number">90</span>, <span class="number">90</span>); </span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> students <span class="keyword">VALUES</span> (<span class="number">8</span>, <span class="string">&#x27;曹丕&#x27;</span>, <span class="string">&#x27;三班&#x27;</span>, <span class="number">90</span>, <span class="number">80</span>, <span class="number">80</span>); </span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> students <span class="keyword">VALUES</span> (<span class="number">9</span>, <span class="string">&#x27;曹植&#x27;</span>, <span class="string">&#x27;三班&#x27;</span>, <span class="number">98</span>, <span class="number">90</span>, <span class="number">80</span>); </span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> students <span class="keyword">VALUES</span> (<span class="number">10</span>, <span class="string">&#x27;刘备&#x27;</span>, <span class="string">&#x27;三班&#x27;</span>, <span class="number">95</span>, <span class="number">90</span>, <span class="number">80</span>); </span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> students <span class="keyword">VALUES</span> (<span class="number">11</span>, <span class="string">&#x27;诸葛亮&#x27;</span>, <span class="string">&#x27;三班&#x27;</span>, <span class="number">98</span>, <span class="number">95</span>, <span class="number">95</span>); </span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> students <span class="keyword">VALUES</span> (<span class="number">12</span>, <span class="string">&#x27;孙权&#x27;</span>, <span class="string">&#x27;三班&#x27;</span>, <span class="number">80</span>, <span class="number">90</span>, <span class="number">80</span>); </span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> students (id) <span class="keyword">VALUES</span> (<span class="number">13</span>);</span><br></pre></td></tr></table></figure>

<p><img src="D:\git\java-53-course-materials\02-DSDB\02-笔记\img-database\班级数据初始化.png"></p>
<h2 id="where-条件"><a href="#where-条件" class="headerlink" title="where-条件"></a>where-条件</h2><blockquote>
<p>使用 WHERE 关键字并指定<code>查询条件|表达式</code>, 从<code>数据表</code>中获得<code>满足条件</code>的数据内容.<br><font color=red><b>使用位置：</b></font>查询语句（select），更新语句（update），删除语句（delete）。<span style=color:yellow;background:red><strong>在update里，和delete必须要用。</strong></span></p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 在select与剧中的含义。只查询出满足条件的数据</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">&lt;</span>查询内容<span class="operator">&gt;</span><span class="operator">|</span>列<span class="number">1</span>,... <span class="keyword">FROM</span>  <span class="operator">&lt;</span>表名字<span class="operator">&gt;</span> <span class="keyword">WHERE</span> <span class="operator">&lt;</span>查询条件<span class="operator">&gt;</span><span class="operator">|</span>表达式</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 在update里面，只修改满足条件的数据</span></span><br><span class="line"><span class="keyword">UPDATE</span> table_name <span class="keyword">SET</span> column1<span class="operator">=</span>value1, column2<span class="operator">=</span>value2 <span class="keyword">where</span> 条件;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 在delete里面，只删除满足条件的数据</span></span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> TABLE_NAME <span class="keyword">WHERE</span> 条件;</span><br><span class="line"></span><br><span class="line">eg:</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 想找id为1的</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> table_name <span class="keyword">where</span> id<span class="operator">=</span><span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 年龄 大于20的</span></span><br><span class="line">selct <span class="operator">*</span> <span class="keyword">from</span> table_name <span class="keyword">where</span> age <span class="operator">&gt;</span> <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 想找到id大于10的</span></span><br><span class="line"><span class="keyword">select</span> id, name <span class="keyword">from</span> students <span class="keyword">where</span> id <span class="operator">&gt;</span> <span class="number">10</span>;</span><br></pre></td></tr></table></figure>

<p>使用 WHERE 关键字并指定<code>查询条件|表达式</code>, 从<code>数据表</code>中获得<code>满足条件</code>的数据内容.<br><strong>在构建Where的<code>查询条件|表达式</code>的过程中, 我们可能需要了解到一些重要的<code>SQL运算符</code></strong></p>
<ol>
<li>算术运算符</li>
</ol>
<table>
<thead>
<tr>
<th>运算符</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>+</td>
<td>加</td>
</tr>
<tr>
<td>-</td>
<td>减</td>
</tr>
<tr>
<td>*</td>
<td>乘</td>
</tr>
<tr>
<td>&#x2F;</td>
<td>除</td>
</tr>
<tr>
<td>%</td>
<td>取余</td>
</tr>
</tbody></table>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 算出运算符，不仅可以出现在where中，还可以出现在查询列中。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 语数外总分 小于180的</span></span><br><span class="line"><span class="comment">-- 语文-数学 分差大于30的</span></span><br><span class="line"><span class="comment">-- 加权平均，按语文0.5 英语0.1 数学0.4求加权平均分</span></span><br><span class="line"><span class="comment">-- 加权平均分，小于等于60的</span></span><br><span class="line"><span class="comment">-- 求每个人的平均分，语数外三科</span></span><br><span class="line"><span class="comment">-- 求每个人的平均分，只筛选出平均分小于60的</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 找出id是奇数的</span></span><br><span class="line"><span class="comment">-- 找语文成绩是偶数的</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- eg:</span></span><br><span class="line"><span class="comment">-- 语数外总分 小于180的</span></span><br><span class="line">	<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> students <span class="keyword">where</span> (chinese <span class="operator">+</span> english <span class="operator">+</span> math) <span class="operator">&lt;</span> <span class="number">180</span>; </span><br><span class="line">	</span><br><span class="line"><span class="comment">-- 语文和数学 分差大于30的</span></span><br><span class="line">	<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> students <span class="keyword">where</span> (chinese <span class="operator">-</span> math) <span class="operator">&gt;</span> <span class="number">30</span>; </span><br><span class="line">	</span><br><span class="line"><span class="comment">-- 加权平均，按语文0.5 英语0.1 数学0.4求加权平均分</span></span><br><span class="line">	<span class="keyword">select</span> <span class="operator">*</span>, (chinese<span class="operator">*</span><span class="number">0.5</span> <span class="operator">+</span> english<span class="operator">*</span><span class="number">0.1</span> <span class="operator">+</span> math <span class="operator">*</span><span class="number">0.4</span>) <span class="keyword">from</span> students; </span><br><span class="line">	</span><br><span class="line"><span class="comment">-- 加权平均分，小于等于60的</span></span><br><span class="line">	<span class="keyword">select</span> <span class="operator">*</span>, (chinese<span class="operator">*</span><span class="number">0.5</span> <span class="operator">+</span> english<span class="operator">*</span><span class="number">0.1</span> <span class="operator">+</span> math <span class="operator">*</span><span class="number">0.4</span>)  <span class="keyword">from</span> students <span class="keyword">where</span> (chinese<span class="operator">*</span><span class="number">0.5</span> <span class="operator">+</span> english<span class="operator">*</span><span class="number">0.1</span> <span class="operator">+</span> math <span class="operator">*</span><span class="number">0.4</span>) <span class="operator">&lt;=</span> <span class="number">60</span> ;  </span><br><span class="line">	</span><br><span class="line"><span class="comment">-- 求每个人的平均分。语数外</span></span><br><span class="line">    <span class="keyword">select</span> <span class="operator">*</span>, (chinese <span class="operator">+</span> english <span class="operator">+</span> math) <span class="operator">/</span> <span class="number">3</span> <span class="keyword">from</span> students ;  </span><br><span class="line">    </span><br><span class="line"><span class="comment">-- 求每个人的平均分，只筛选出平均分小于60的</span></span><br><span class="line">    <span class="keyword">select</span> <span class="operator">*</span>, (chinese <span class="operator">+</span> english <span class="operator">+</span> math) <span class="operator">/</span> <span class="number">3</span> <span class="keyword">from</span> students  <span class="keyword">where</span> (chinese <span class="operator">+</span> english <span class="operator">+</span> math) <span class="operator">/</span><span class="number">3</span>  <span class="operator">&lt;</span> <span class="number">60</span>; </span><br></pre></td></tr></table></figure>

<ol start="2">
<li>比较和逻辑运算符</li>
</ol>
<table>
<thead>
<tr>
<th>运算符</th>
<th>作用</th>
<th>运算符</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>&#x3D;</td>
<td>等于</td>
<td>&lt;&#x3D;&gt;</td>
<td>等于(可比较null)</td>
</tr>
<tr>
<td>!&#x3D;</td>
<td>不等于</td>
<td>&lt;&gt;</td>
<td>不等于</td>
</tr>
<tr>
<td>&lt;</td>
<td>小于</td>
<td>&gt;</td>
<td>大于</td>
</tr>
<tr>
<td>&lt;&#x3D;</td>
<td>小于等于</td>
<td>&gt;&#x3D;</td>
<td>大于等于</td>
</tr>
<tr>
<td>between and</td>
<td>在闭区间内</td>
<td>like</td>
<td>通配符匹配(%:通配, <code>_</code>占位)</td>
</tr>
<tr>
<td>is null</td>
<td>是否为null</td>
<td>is not null</td>
<td>是否不为null</td>
</tr>
<tr>
<td>in</td>
<td>在列表内</td>
<td>not in</td>
<td>不在列表内</td>
</tr>
<tr>
<td>and</td>
<td>与</td>
<td>&amp;&amp;</td>
<td>与</td>
</tr>
<tr>
<td>or</td>
<td>或</td>
<td>||</td>
<td>或</td>
</tr>
</tbody></table>
<p>需要注意的：</p>
<ul>
<li><code>=</code>无法判断null。一般使用 is null来单独处理null</li>
<li>like中，%表示通配，<code>_</code>表示占位。 一个<code>_</code>代表一个字符。</li>
</ul>
<blockquote>
<p>练习：<br>查询语数外总成绩大于 180 的同学信息；<br>查询数学成绩在[80，90]区间的同学姓名；<br>查询各科都及格的同学姓名；</p>
<p>查询有一科成绩小于60的同学信息</p>
<p>查询一班和二班的同学信息；(两种写法)</p>
<p>查询姓贾的同学（只要姓贾就行）</p>
<p>查询姓贾的同学，两个字的</p>
<p>查询语文分数在 60 或90的同学</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询语数外总成绩大于 180 的同学信息；</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span>,(chinese <span class="operator">+</span> english <span class="operator">+</span> math) <span class="keyword">from</span> students <span class="keyword">where</span> (chinese <span class="operator">+</span> english <span class="operator">+</span> math) <span class="operator">&gt;</span> <span class="number">180</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询数学成绩在[80，90]区间的同学姓名；</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> students <span class="keyword">where</span> math <span class="keyword">between</span> <span class="number">80</span> <span class="keyword">and</span> <span class="number">90</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> students <span class="keyword">where</span> math <span class="operator">&gt;=</span> <span class="number">80</span> <span class="keyword">and</span> math <span class="operator">&lt;=</span><span class="number">90</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询各科都及格的同学姓名；</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> students <span class="keyword">where</span> chinese <span class="operator">&gt;=</span> <span class="number">60</span> <span class="keyword">and</span> math <span class="operator">&gt;=</span> <span class="number">60</span> <span class="keyword">and</span> english <span class="operator">&gt;=</span> <span class="number">60</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询各科只要有一科及格的同学姓名；</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> students <span class="keyword">where</span> chinese <span class="operator">&gt;=</span> <span class="number">60</span> <span class="keyword">or</span> math <span class="operator">&gt;=</span> <span class="number">60</span> <span class="keyword">or</span> english <span class="operator">&gt;=</span> <span class="number">60</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> students <span class="keyword">where</span> id<span class="operator">=</span><span class="number">6</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询一班和二班的同学信息；</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> students <span class="keyword">where</span> class <span class="operator">=</span> <span class="string">&#x27;一班&#x27;</span> <span class="keyword">or</span> class <span class="operator">=</span> <span class="string">&#x27;二班&#x27;</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> students <span class="keyword">where</span> class <span class="keyword">in</span> (&quot;一班&quot;, &quot;二班&quot;);</span><br></pre></td></tr></table></figure>

<h2 id="distinct-过滤"><a href="#distinct-过滤" class="headerlink" title="distinct-过滤"></a>distinct-过滤</h2><p>获取某个列的不重复值。或者是某些列的不重复值</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> <span class="operator">&lt;</span>字段名<span class="operator">&gt;</span> <span class="keyword">FROM</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>使用<code>DISTINCT</code>对数据表中<code>一个或多个字段</code>重复的数据进行过滤，重复的数据只返回其<code>一条</code>数据给用户.</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 返回所有的 class</span></span><br><span class="line"><span class="keyword">select</span> class <span class="keyword">from</span> students;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 返回不重复的 class</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> class <span class="keyword">from</span> students;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 返回所有去重后的英语成绩</span></span><br><span class="line"><span class="comment">-- 6条</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> english <span class="keyword">from</span> students;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 返回两列 英语和数学去重后的结果。</span></span><br><span class="line"><span class="comment">-- 10条</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> english,math <span class="keyword">from</span> students;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 13条</span></span><br><span class="line"><span class="comment">-- 90.90 重复了一条</span></span><br><span class="line"><span class="comment">-- 90,80 重复了两条</span></span><br><span class="line"><span class="keyword">select</span> english,math <span class="keyword">from</span> students;</span><br></pre></td></tr></table></figure>



<h2 id="limit-限制结果集"><a href="#limit-限制结果集" class="headerlink" title="limit-限制结果集"></a>limit-限制结果集</h2><p>一般用来做，比如限制最大的返回数目。或者是做分页上面。</p>
<p>select * from students limit 10;</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">&lt;</span>查询内容<span class="operator">|</span>列等<span class="operator">&gt;</span> <span class="keyword">FROM</span>  <span class="operator">&lt;</span>表名字<span class="operator">&gt;</span> LIMIT 记录数目</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">&lt;</span>查询内容<span class="operator">|</span>列等<span class="operator">&gt;</span> <span class="keyword">FROM</span>  <span class="operator">&lt;</span>表名字<span class="operator">&gt;</span> LIMIT 初始位置，记录数目;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">&lt;</span>查询内容<span class="operator">|</span>列等<span class="operator">&gt;</span> <span class="keyword">FROM</span>  <span class="operator">&lt;</span>表名字<span class="operator">&gt;</span> LIMIT 记录数目 <span class="keyword">OFFSET</span> 初始位置;</span><br><span class="line"></span><br><span class="line">eg:</span><br><span class="line"><span class="comment">-- 限制数目 为number个</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> tableName <span class="keyword">where</span> <span class="keyword">condition</span> limit number;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 偏移量为offsetNumber 从0开始</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> tableName <span class="keyword">where</span> <span class="keyword">condition</span> limit offsetNumber, number;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 偏移量offsetNumber</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> tableName <span class="keyword">where</span> <span class="keyword">condition</span> limit number <span class="keyword">offset</span> offsetNumber;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>使用<code>LIMIT</code>对数据表查询结果集大小进行限定.<br>LIMIT 记录数目: 从第一条开始, 限定记录数目<br>LIMIT 初始位置，记录数目: 从起始位置开始, 限定记录数目<br>LIMIT 记录数目 OFFSET 初始位置: 从起始位置开始, 限定记录数目<br>注意: 数据(默认下标从0开始) </p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 从第一条开始拿 </span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> students limit <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- limit offsetNumer,number 偏移数目，需要限制的总数</span></span><br><span class="line"><span class="comment">-- 2,5 代表从第三个开始拿 总共拿回来5个</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> students limit <span class="number">2</span>,<span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- limit number offset offsetNumber</span></span><br><span class="line"><span class="comment">-- limit 5 offset 3 代表 从第四个开始拿，总共最大拿回来五个</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> students limit <span class="number">5</span> <span class="keyword">offset</span> <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">一般用它来做分页查询。</span><br></pre></td></tr></table></figure>



<h2 id="as-别名"><a href="#as-别名" class="headerlink" title="as-别名"></a>as-别名</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&lt;</span>内容<span class="operator">&gt;</span> <span class="keyword">AS</span> <span class="operator">&lt;</span>别名<span class="operator">&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>AS</code> 关键字用来为表和字段指定别名.</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 可以为取出来的列名 取一个别名</span></span><br><span class="line"><span class="keyword">select</span> id,name <span class="keyword">as</span> student_name,class <span class="keyword">from</span> students;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 可以为一些计算的属性取别名</span></span><br><span class="line"><span class="keyword">select</span> (chinese <span class="operator">+</span> english <span class="operator">+</span> math) <span class="keyword">as</span> total_score <span class="keyword">from</span> students;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 也可以为表名取别名</span></span><br><span class="line"><span class="keyword">select</span> s.name <span class="keyword">from</span> students <span class="keyword">as</span> s;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> s.name <span class="keyword">from</span> students s;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- as 可以省略</span></span><br></pre></td></tr></table></figure>



<h2 id="order-by-排序"><a href="#order-by-排序" class="headerlink" title="order by-排序"></a>order by-排序</h2><p>比如我们想根据id进行排序； 或者想根据年龄进行排序。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">&lt;</span>查询内容<span class="operator">|</span>列等<span class="operator">&gt;</span> <span class="keyword">FROM</span>  <span class="operator">&lt;</span>表名字<span class="operator">&gt;</span> <span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="operator">&lt;</span>字段名<span class="operator">&gt;</span> [<span class="keyword">ASC</span><span class="operator">|</span><span class="keyword">DESC</span>];</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>ORDER BY</code>对查询数据结果集进行排序.<br>不加排序模式: 升序排序.<br>ASC: 升序排序.<br>DESC: 降序排序.<br>注意: 如上查询, 当我们进行多字段排序的时候, 会先满足第一个列的排序要求, 如果第一列一致的话, 再按照第二列进行排序, 以此类推.</p>
</blockquote>
<h2 id="group-by-分组"><a href="#group-by-分组" class="headerlink" title="group by-分组"></a>group by-分组</h2><p>按照某个、某些字段分组。<br>比如想看一个班级有多少学生。班级的最高分，最低分。 </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">&lt;</span>查询内容<span class="operator">|</span>列等<span class="operator">&gt;</span> <span class="keyword">FROM</span>  <span class="operator">&lt;</span>表名字<span class="operator">&gt;</span> <span class="keyword">GROUP</span> <span class="keyword">BY</span>  <span class="operator">&lt;</span>字段名...<span class="operator">&gt;</span></span><br><span class="line"></span><br><span class="line">eg: </span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> students <span class="keyword">group</span> <span class="keyword">by</span> class;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> students <span class="keyword">group</span> <span class="keyword">by</span> class, chinese;</span><br><span class="line"><span class="keyword">select</span> class, group_concat(name), group_concat(chinese) <span class="keyword">from</span> students <span class="keyword">group</span> <span class="keyword">by</span> class;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 获取语文成绩大于90分的，按照班级分组</span></span><br><span class="line"><span class="keyword">select</span> class, group_concat(name) <span class="keyword">from</span> students <span class="keyword">where</span> chinese <span class="operator">&gt;</span> <span class="number">90</span> <span class="keyword">group</span> <span class="keyword">by</span> class;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 获取班级的平均分</span></span><br><span class="line"><span class="keyword">select</span> class, group_concat(name), <span class="built_in">avg</span>(chinese) <span class="keyword">from</span> students <span class="keyword">group</span> <span class="keyword">by</span> class;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 获取班级人数大于三个人的班级</span></span><br><span class="line"><span class="keyword">select</span> class, group_concat(name) <span class="keyword">from</span> students <span class="keyword">group</span> <span class="keyword">by</span> class <span class="keyword">having</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="operator">&gt;</span> <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 获取班级平均语文成绩大于60分的</span></span><br><span class="line"><span class="keyword">select</span> class, group_concat(name), <span class="built_in">avg</span>(chinese) <span class="keyword">from</span> students <span class="keyword">group</span> <span class="keyword">by</span> class <span class="keyword">having</span> <span class="built_in">avg</span>(chinese) <span class="operator">&gt;</span> <span class="number">60</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>GROUP_CONCAT()函数会把每个分组的字段值都拼接显示出来.</p>
<p>HAVING 可以让我们对分组后的各组数据过滤。(一般和分组+聚合函数配合使用)</p>
</blockquote>
<p><font color=red><strong>having注意和where的区别</strong></font><br>where主要用于对原始表进行过滤。having是对group by 后的结果进行过滤，一般配合聚合函数一起使用。</p>
<p><span style=color:red;background:yellow><strong>注意点：</strong></span></p>
<ul>
<li><code>group by</code>的select列中，只能有两种，<font color=red><strong>在group中出现的字段</strong></font>，<font color=red><strong>聚合函数聚合起来的东西</strong></font></li>
<li>多个字段分组查询时，会先按照第一个字段进行分组。如果第一个字段中有相同的值，MySQL 才会按照第二个字段进行分组。如果第一个字段中的数据都是唯一的，那么 MySQL 将不再对第二个字段进行分组.</li>
<li>如果在select 字段中，可以看出group 字段，后方可以使用数字代替，从1开始</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 会报错。如果有同学不报错，是因为有一个选项没开</span></span><br><span class="line"><span class="comment">-- select * from students group by class;</span></span><br><span class="line"><span class="comment">-- select id,class from students group by class;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 在select中出现的，只能有 group by 后的字段；或者是聚合函数聚合起来的东西</span></span><br><span class="line"><span class="keyword">select</span> class <span class="keyword">from</span> students <span class="keyword">group</span> <span class="keyword">by</span> class;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 根据英语成绩进行分组</span></span><br><span class="line"><span class="keyword">select</span> english <span class="keyword">from</span> students <span class="keyword">group</span> <span class="keyword">by</span> <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 根据英语成绩，数学成绩进行分组</span></span><br><span class="line"><span class="comment">-- 会先按照英语成绩分组，如果英语成绩相同，则按照数学成绩进行分组</span></span><br><span class="line"><span class="keyword">select</span> english,math <span class="keyword">from</span> students <span class="keyword">group</span> <span class="keyword">by</span> english,math;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>是因为没有开这个选项</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/csnjava/p/16531260.html">only_full_group_by</a></p>
<h2 id="聚合函数"><a href="#聚合函数" class="headerlink" title="聚合函数"></a>聚合函数</h2><p>聚合函数一般用来计算列相关的指定值. <code>通常</code>和<code>分组</code>一起使用</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>作用</th>
<th>函数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>COUNT</td>
<td>计数</td>
<td>SUM</td>
<td>和</td>
</tr>
<tr>
<td>AVG</td>
<td>平均值</td>
<td>MAX</td>
<td>最大值</td>
</tr>
<tr>
<td>MIN</td>
<td>最小值</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<ul>
<li><p>COUNT: 计数</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(columnName) <span class="keyword">from</span> tableName [<span class="keyword">where</span> 条件];</span><br><span class="line"></span><br><span class="line">  eg:</span><br><span class="line">      <span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> students;</span><br><span class="line">      <span class="keyword">select</span> <span class="built_in">count</span>(name) <span class="keyword">from</span> students;</span><br><span class="line">      </span><br><span class="line"><span class="comment">-- 和分组一起使用。查看每个班级有多少人树</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> class,<span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> students <span class="keyword">group</span> <span class="keyword">by</span> class;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<blockquote>
<p><code>COUNT(*)</code>:表示表中总行数</p>
<p><code>COUNT(列)</code>: 计算非NULL的总行数。</p>
</blockquote>
<ul>
<li><p>SUM: 求和</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">&lt;</span>查询内容<span class="operator">&gt;</span><span class="operator">|</span>列等 , SUM<span class="operator">&lt;</span>列 <span class="keyword">FROM</span>  <span class="operator">&lt;</span>表名字<span class="operator">&gt;</span> <span class="keyword">GROUP</span> <span class="keyword">BY</span> <span class="keyword">HAVING</span> SUM<span class="operator">&lt;</span>表达式<span class="operator">&gt;</span><span class="operator">|</span>条件</span><br><span class="line">  </span><br><span class="line">  eg:</span><br><span class="line">  <span class="keyword">select</span> <span class="built_in">sum</span>(chinese) <span class="keyword">from</span> students;</span><br><span class="line">  <span class="keyword">select</span> <span class="built_in">sum</span>(chinese), <span class="built_in">sum</span>(english), <span class="built_in">sum</span>(math) <span class="keyword">from</span> students;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">-- 查看每个班级的语文总分</span></span><br><span class="line">  <span class="keyword">select</span> class,<span class="built_in">sum</span>(chinese),group_concat(chinese) <span class="keyword">from</span> students <span class="keyword">group</span> <span class="keyword">by</span> class;</span><br></pre></td></tr></table></figure>
</li>
<li><p>AVG: 平均值</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">&lt;</span>查询内容<span class="operator">&gt;</span><span class="operator">|</span>列等 , AVG<span class="operator">&lt;</span>列<span class="operator">&gt;</span> <span class="keyword">FROM</span>  <span class="operator">&lt;</span>表名字<span class="operator">&gt;</span> <span class="keyword">GROUP</span> <span class="keyword">BY</span> <span class="keyword">HAVING</span> AVG<span class="operator">&lt;</span>表达式<span class="operator">&gt;</span><span class="operator">|</span>条件</span><br><span class="line"></span><br><span class="line">eg:</span><br><span class="line">	<span class="keyword">select</span> <span class="built_in">avg</span>(chinese) <span class="keyword">from</span> students;</span><br><span class="line">    <span class="keyword">select</span> <span class="built_in">avg</span>(chinese), <span class="built_in">avg</span>(english), <span class="built_in">avg</span>(math) <span class="keyword">from</span> students;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">-- 按班级查看平均分</span></span><br><span class="line">    <span class="keyword">select</span> class,<span class="built_in">avg</span>(chinese), <span class="built_in">avg</span>(english), <span class="built_in">avg</span>(math) <span class="keyword">from</span> students <span class="keyword">group</span> <span class="keyword">by</span> <span class="number">1</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>MAX: 最大值</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">&lt;</span>查询内容<span class="operator">&gt;</span><span class="operator">|</span>列等 , <span class="built_in">MAX</span>(<span class="operator">&lt;</span>列<span class="operator">&gt;</span>) <span class="keyword">FROM</span>  <span class="operator">&lt;</span>表名字<span class="operator">&gt;</span> <span class="keyword">GROUP</span> <span class="keyword">BY</span> <span class="keyword">HAVING</span> <span class="built_in">MAX</span>(<span class="operator">&lt;</span>表达式<span class="operator">&gt;</span>)<span class="operator">|</span>条件</span><br><span class="line"></span><br><span class="line">eg: </span><br><span class="line">    <span class="keyword">select</span> <span class="built_in">max</span>(chinese) <span class="keyword">from</span> students;</span><br><span class="line">    <span class="keyword">select</span> <span class="built_in">max</span>(chinese), <span class="built_in">max</span>(english), <span class="built_in">max</span>(math) <span class="keyword">from</span> students;</span><br></pre></td></tr></table></figure>
</li>
<li><p>MIN: 最小值</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">&lt;</span>查询内容<span class="operator">&gt;</span><span class="operator">|</span>列等 , <span class="built_in">MIN</span>(<span class="operator">&lt;</span>列<span class="operator">&gt;</span>) <span class="keyword">FROM</span>  <span class="operator">&lt;</span>表名字<span class="operator">&gt;</span> <span class="keyword">GROUP</span> <span class="keyword">BY</span> <span class="keyword">HAVING</span> <span class="built_in">MIN</span>(<span class="operator">&lt;</span>表达式<span class="operator">&gt;</span>)<span class="operator">|</span>条件</span><br><span class="line"></span><br><span class="line">eg:</span><br><span class="line">    <span class="keyword">select</span> <span class="built_in">min</span>(chinese) <span class="keyword">from</span> students;</span><br><span class="line">    <span class="keyword">select</span> <span class="built_in">min</span>(chinese), <span class="built_in">min</span>(english), <span class="built_in">max</span>(math) <span class="keyword">from</span> students;</span><br></pre></td></tr></table></figure></li>
</ul>
<p><font color=red><strong>练习：</strong></font></p>
<ul>
<li>查询每个同学的总成绩，平均成绩，并用别名表示；</li>
<li>查询数学最大值，并用别名表示；</li>
<li>查询外语最小值，并用别名表示；</li>
<li>查询全体学生的语数外各科平均成绩，并用别名表示；</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 练习：</span></span><br><span class="line"><span class="comment">-- 查询每个同学的总成绩，平均成绩，并用别名表示；</span></span><br><span class="line"><span class="comment">-- ROUND(100.3465,2) 四舍五入</span></span><br><span class="line"><span class="keyword">select</span> name, (chinese <span class="operator">+</span> english <span class="operator">+</span> math) <span class="keyword">as</span> total_score, ((chinese <span class="operator">+</span> english <span class="operator">+</span> math)<span class="operator">/</span><span class="number">3</span>) <span class="keyword">as</span> avg_score <span class="keyword">from</span> students;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> name, (chinese <span class="operator">+</span> math <span class="operator">+</span> english) <span class="keyword">as</span> total_score , round((chinese<span class="operator">+</span>math<span class="operator">+</span>english) <span class="operator">/</span><span class="number">3</span>, <span class="number">2</span>) <span class="keyword">as</span> avg_score <span class="keyword">from</span> students;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询数学最大值，并用别名表示；</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">max</span>(math) <span class="keyword">as</span> max_math_score <span class="keyword">from</span> students;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询外语最小值，并用别名表示；</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">min</span>(english) <span class="keyword">as</span> min_english_score <span class="keyword">from</span> students;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询全体学生的语数外各科平均成绩，并用别名表示；</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(chinese),<span class="built_in">avg</span>(math),<span class="built_in">avg</span>(english) <span class="keyword">as</span> avg_english <span class="keyword">from</span> students;</span><br></pre></td></tr></table></figure>



<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">&lt;</span>查询内容<span class="operator">&gt;</span><span class="operator">|</span>列等 , (聚合函数)<span class="operator">|</span><span class="operator">*</span> <span class="keyword">FROM</span>  <span class="operator">&lt;</span>表名字<span class="operator">&gt;</span> <span class="keyword">GROUP</span> <span class="keyword">BY</span> 列 <span class="keyword">HAVING</span> (聚合函数)条件 <span class="operator">|</span>条件;</span><br><span class="line"></span><br><span class="line">  eg:</span><br><span class="line">      <span class="keyword">select</span> class, group_concat(name), <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> students <span class="keyword">group</span> <span class="keyword">by</span> class;</span><br><span class="line">      <span class="keyword">select</span> class, group_concat(name), <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> students <span class="keyword">group</span> <span class="keyword">by</span> class <span class="keyword">having</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="operator">&gt;</span> <span class="number">3</span>;  </span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询班级语文总分大于200的班级(可以显示一下语文总分)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询班级平均分，学生的限制：数学大于等于60，语文大于等于60的 </span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询班级情况，要求学生语文最大的大于等于90，语文最少分大于等于70</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询班级，语文最小成绩大于等于60，数学也是</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> class <span class="keyword">from</span> students <span class="keyword">group</span> <span class="keyword">by</span> class <span class="keyword">having</span> <span class="built_in">sum</span>(chinese) <span class="operator">&gt;</span> <span class="number">200</span>;</span><br></pre></td></tr></table></figure>


<h1 id="SQL语句执行顺序"><a href="#SQL语句执行顺序" class="headerlink" title="SQL语句执行顺序"></a>SQL语句执行顺序</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> (<span class="number">5</span>) <span class="keyword">SELECT</span> column_name, ...   </span><br><span class="line"> (<span class="number">1</span>) <span class="keyword">FROM</span> table_name, ...   </span><br><span class="line"> (<span class="number">2</span>) [<span class="keyword">WHERE</span> ...]   </span><br><span class="line"> (<span class="number">3</span>) [<span class="keyword">GROUP</span> <span class="keyword">BY</span> ...]   </span><br><span class="line"> (<span class="number">4</span>) [<span class="keyword">HAVING</span> ...]   </span><br><span class="line"> (<span class="number">6</span>) [<span class="keyword">ORDER</span> <span class="keyword">BY</span> ...];  </span><br><span class="line"> (<span class="number">7</span>) [Limit ...]</span><br></pre></td></tr></table></figure>

<blockquote>
<ul>
<li>（1） 小括号中的数字代表执行顺序</li>
<li>SQL语句的关键字是有顺序的，需要按照上面的顺序来写</li>
<li>要注意书写顺序。也要注意指定顺序。</li>
</ul>
</blockquote>
<h1 id="数据完整性"><a href="#数据完整性" class="headerlink" title="数据完整性"></a>数据完整性</h1><p>主要是用来限制MySQL表中的数据，使数据符合规范，也称之为完整。</p>
<h2 id="实体完整性"><a href="#实体完整性" class="headerlink" title="实体完整性"></a>实体完整性</h2><p>缺少了这个字段，实体就不完整。</p>
<p><span style=color:red;font-size:30><b>列约束</b></span></p>
<blockquote>
<p>MySQL可以对插入的数据进行特定的验证，只有满足条件才可以插入到数据表中，否则认为是非法插入</p>
</blockquote>
<p><strong>主键(primary key)</strong></p>
<ul>
<li>一个表只能有一个主键</li>
<li><font color=red><strong>主键具有唯一性</strong></font></li>
<li><font color=red><strong>主键字段的值不能为null</strong></font></li>
<li>声明字段时，用 primary key 标识</li>
<li>主键可以由多个字段共同组成。此时需要在字段列表后声明的方法</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> test_primary_key(</span><br><span class="line">    <span class="comment">-- 代表这个 columnName是主键</span></span><br><span class="line">	columnName columnType <span class="keyword">primary</span> key,</span><br><span class="line">	......</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> test_primary_key2(</span><br><span class="line">	columnName columnType,</span><br><span class="line">	......,</span><br><span class="line">	<span class="keyword">primary</span> key(columnName)</span><br><span class="line">)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>auto_increment 自动增长约束</strong><br>一些序号，没有必须手动生成，想让mysql自动生成。</p>
<ul>
<li>自动增长必须为索引(主键或unique)</li>
<li>只能存在一个字段为自动增长。</li>
<li>默认为1开始自动增长。</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> test_auto_increment(</span><br><span class="line">	columnName columnType <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">	......</span><br><span class="line">)</span><br></pre></td></tr></table></figure>



<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> stu(  </span><br><span class="line">   id <span class="type">int</span> <span class="keyword">PRIMARY</span> KEY auto_increment,  </span><br><span class="line">   name <span class="type">varchar</span>(<span class="number">20</span>),  </span><br><span class="line">   age <span class="type">int</span>,  </span><br><span class="line">   class <span class="type">varchar</span>(<span class="number">20</span>)  </span><br><span class="line"> ) auto_increment<span class="operator">=</span><span class="number">1000</span> ;</span><br></pre></td></tr></table></figure>

<p>在上表中，id是主键，是自增的。主键值从1000开始自增，通过auto_increment来指定，假如没有指定，从1开始自增</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 我们可以使用一条命令去看  自动增长目前增长到哪</span></span><br><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">table</span> table_name;</span><br></pre></td></tr></table></figure>



<h2 id="域完整性"><a href="#域完整性" class="headerlink" title="域完整性"></a>域完整性</h2><p>域完整性是针对某一具体关系数据库的约束条件，<span style=color:red;background:yellow><strong>它保证表中某些列不能输入无效的值。</strong></span></p>
<p>比如这个人的姓名，不允许输入null这种值。</p>
<p>比如有一张学生表。 id name  id_card。</p>
<p><strong>null约束</strong></p>
<ul>
<li>null不是数据类型，是列的一个属性。一个具体的值</li>
<li>表示当前列是否可以为null，表示什么都没有</li>
<li>null, 允许为空。默认</li>
<li>not null, 不允许为空<br><font color=red><b>null表示没有数据，但是注意null不是空字符串。</b></font></li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> test_null(</span><br><span class="line">	columnName columnType <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">	columnName2 columnType2 <span class="keyword">null</span>,</span><br><span class="line">	......</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 这代表null</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> test_null(column1) <span class="keyword">values</span> (<span class="keyword">null</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 这个不是null。这是一个普通字符串</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> test_null(column1) <span class="keyword">values</span> (&quot;null&quot;);</span><br></pre></td></tr></table></figure>



<p><strong>唯一值约束</strong></p>
<ul>
<li><p>unique</p>
<p>表示值是唯一的，不重复的</p>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> teacher(</span><br><span class="line">	id <span class="type">int</span> <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">	name <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">unique</span>,</span><br><span class="line">	age <span class="type">int</span> <span class="keyword">not</span> <span class="keyword">null</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>unique：</p>
<ol>
<li>插入的值不能重复</li>
<li>可以插入null</li>
<li>null可以重复</li>
</ol>
</blockquote>
<p>unique和primary key的区别：</p>
<ol>
<li>主键值不能为空（null），而unique可以为空</li>
</ol>
<h2 id="参照完整性"><a href="#参照完整性" class="headerlink" title="参照完整性"></a>参照完整性</h2><p>外键是关系数据库中一个非常重要的概念，用于建立表与表之间的关系。一个表中的外键指向另一个表中的某个字段，这个字段通常是另一个表中的主键。外键的作用是保障数据的完整性和一致性，它可以确保两个表之间的关系正确地维护，防止数据出现不一致或者不完整的情况。</p>
<p>外键。关系型数据库，不仅可以存储数据，还可以存储数据和数据之间的关系，具体的体现就是外键。</p>
<p><img src="D:\git\java-53-course-materials\02-DSDB\02-笔记\img-database\image-20220511112342177.png" alt="image-20220511112342177"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> province(</span><br><span class="line">	id <span class="type">int</span> <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">	name <span class="type">varchar</span>(<span class="number">20</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> city(</span><br><span class="line">	id <span class="type">int</span> ,</span><br><span class="line">	name <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">	province_id <span class="type">int</span>,</span><br><span class="line">	<span class="comment">-- 声明外键</span></span><br><span class="line">    <span class="comment">-- CONSTRAINT 外键名称 foreign key(列) references 表名(列名)</span></span><br><span class="line">	<span class="keyword">CONSTRAINT</span> fk_pid <span class="keyword">foreign</span> key(province_id) <span class="keyword">REFERENCES</span> province(id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 外键的另外一种写法</span></span><br><span class="line"><span class="comment">-- foreign key(列) references 表名(列名)</span></span><br><span class="line"><span class="comment">-- foreign key(s_id) references school(id)</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> province <span class="keyword">values</span>(<span class="number">41</span>, &quot;河南省&quot;);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> province <span class="keyword">values</span>(<span class="number">43</span>, &quot;湖南省&quot;);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> province <span class="keyword">values</span>(<span class="number">42</span>, &quot;湖北省&quot;);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 城市表插入</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 插入城市表的时候会去寻找有没有23对应的省份，如果有，插入</span></span><br><span class="line"><span class="comment">-- 如果没有，那么会报错</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> city <span class="keyword">values</span> (<span class="number">6</span>,<span class="string">&#x27;哈尔滨&#x27;</span>,<span class="number">23</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 不能删除还有子行的数据</span></span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> province <span class="keyword">where</span> id <span class="operator">=</span> <span class="number">32</span>;</span><br></pre></td></tr></table></figure>

<p>外键的优缺点：</p>
<ul>
<li><p>优点：能够限制数据的增加、删除或者是修改操作，来保证数据的正确性。</p>
</li>
<li><p>缺点：</p>
<ol>
<li>在插入（修改）子行（城市表）的数据的时候，需要去父表（省份表）中找对应的数据</li>
<li>在删除（修改）父表（身份表）的数据的时候，需要去检查城市表中是否有对应的数据</li>
</ol>
<p>总结：有了外键之后，影响了增加、删除、修改的性能</p>
</li>
</ul>
<blockquote>
<p>在公司中，大家觉得应不应该使用外键呢？看具体的情况</p>
<ol>
<li>假如公司比较小，表中的数据量不大（外键对效率的影响比较小，甚至可以忽略），可以考虑使用外键</li>
<li>假如是大公司，或者是数据库表中的数据很多，（外键对于效率的影响就会很大），不应该使用外键</li>
</ol>
</blockquote>
<p>不建议大家用？</p>
<p>我就是想约束这种关系。不使用外键，怎么保证这种关系。用代码保证。</p>
<p>数据库来保证了事情，但是影响了效率。 </p>
<p>其他约束（属性）</p>
<p><strong>default 默认值属性</strong><br>当前字段的默认值。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> test_default(</span><br><span class="line">	columnName <span class="type">timestamp</span> ,</span><br><span class="line">	......</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> test_default(</span><br><span class="line">	id <span class="type">int</span> <span class="keyword">primary</span> key,</span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">200</span>),</span><br><span class="line">    <span class="comment">-- 如果你插入数据的时候，没有指定，这时候我就用默认值</span></span><br><span class="line">    country <span class="type">varchar</span>(<span class="number">200</span>) <span class="keyword">default</span> &quot;中国&quot;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `user_info`  (</span><br><span class="line">  id <span class="type">int</span>, </span><br><span class="line">  name <span class="type">varchar</span>(<span class="number">200</span>)</span><br><span class="line">  create_time <span class="type">timestamp</span> <span class="keyword">DEFAULT</span> <span class="built_in">CURRENT_TIMESTAMP</span> COMMENT <span class="string">&#x27;创建时间&#x27;</span>,</span><br><span class="line">  update_time <span class="type">timestamp</span> <span class="keyword">DEFAULT</span> <span class="built_in">CURRENT_TIMESTAMP</span> <span class="keyword">ON</span> <span class="keyword">UPDATE</span> <span class="built_in">CURRENT_TIMESTAMP</span> COMMENT <span class="string">&#x27;更新时间&#x27;</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>


<blockquote>
<p>create table tab ( create_time timestamp default current_timestamp );<br>– 表示将当前时间的时间戳设为默认值。<br>current_date, current_time</p>
<p>ON UPDATE CURRENT_TIMESTAMP(0) COMMENT ‘更新时间’</p>
</blockquote>
<p><strong>comment 注释</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 作用是什么？</span></span><br><span class="line"><span class="comment">-- 为了让代码更好理解。</span></span><br><span class="line"><span class="comment">-- SQL里面的注释，是为了让SQL的字段更好理解。如果你进入了一个公司，不懂这个表里面的字段的含义。</span></span><br><span class="line"><span class="comment">-- 可以运行一下这个命令，看一下有没有备注帮你更好的理解这个表。    show create table test_comment;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> test_comment(</span><br><span class="line">  id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">  name <span class="type">varchar</span>(<span class="number">255</span>) comment &quot;名字&quot;,</span><br><span class="line">  status <span class="type">int</span> comment &quot;0表示未付款，1表示已付款，2&quot;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 相当于是字段的备注信息</span></span><br><span class="line"><span class="comment">-- 可以使用 show create table test_comment;来查看备注</span></span><br></pre></td></tr></table></figure>

<h1 id="多表设计"><a href="#多表设计" class="headerlink" title="多表设计"></a>多表设计</h1><p>在关系型数据库中，多表设计是指将数据分散到多个表中，每个表存储不同的数据。这种设计方式可以提高数据存储的效率和灵活性，同时也可以更好地保障数据的完整性和一致性。</p>
<p>有关系的一些表才需要这种多表设计。 </p>
<p>学生表和订单表。 </p>
<p>用户表和用户详情表。 </p>
<h2 id="一对一"><a href="#一对一" class="headerlink" title="一对一"></a>一对一</h2><p>在关系型数据库中，多表设计中的一对一关系指的是两个表之间的关系，其中一个表的记录只能对应另一个表中的一条记录，反之亦然。<span style=color:yellow;background:red><strong>这种关系，在任意一方添加关系即可。</strong></span></p>
<ul>
<li><p>人和身份证号</p>
</li>
<li><p>学号和学生</p>
</li>
<li><p>用户和用户详情</p>
</li>
</ul>
<p><img src="D:\git\java-53-course-materials\02-DSDB\02-笔记\img-database\image-20220512093032240.png" alt="image-20220512093032240"></p>
<blockquote>
<p>所有的一一对应的表，在逻辑上，都可以合并为一个表。</p>
</blockquote>
<p><font color=red><strong>思考一下，为什么本来可以用一张表，却要拆成两张表？</strong></font></p>
<p>主要的原因是效率。如果一个表的列太多，比如有300列。最终数据量太大的时候，效率会很差。但是如果将其拆分成两个表，最终频繁查询的这个表，将其列弄得少一点，会提升查询效率。</p>
<p>查询的效率的问题。1000w左右的大小的表，查询效率在1s之内。</p>
<p>表的列非常多，300列。有1000w行数据。查询效率非常差。</p>
<p>拆成两张表， 一张表 5列，一张表有296列。 这时候 这个小表的效率也可以。</p>
<p>登录的场景，要不断的去查 用户名和密码。</p>
<h2 id="一对多"><a href="#一对多" class="headerlink" title="一对多"></a>一对多</h2><p>在关系型数据库中，多表设计中的一对多关系指的是两个表之间的关系，其中一个表的记录可以对应另一个表中的多条记录，而另一个表中的每条记录只能对应一个表中的记录。<span style=color:yellow;background:red><strong>这种关系，会在多的一方添加字段来表示关系。</strong></span></p>
<p>一对多是指 存在表A和表B，表A中的一条数据，对应表B中的多条数据；而表B中的一条数据，对应表A中的一条数据。</p>
<ul>
<li>班级和学生</li>
<li>省份和城市</li>
</ul>
<p><img src="D:\git\java-53-course-materials\02-DSDB\02-笔记\img-database\image-20220512094324425.png" alt="image-20220512094324425"></p>
<h2 id="多对多"><a href="#多对多" class="headerlink" title="多对多"></a>多对多</h2><p>在关系型数据库中，多表设计中的多对多关系指的是两个表之间的关系，其中一个表的记录可以对应另一个表中的多条记录，而另一个表中的每条记录也可以对应另一个表中的多条记录。<span style=color:yellow;background:red><strong>这种关系通常需要通过中间表来实现。</strong></span></p>
<p>多对多其实是指存在表A和表B，表A中的一条数据，对应表B中的多条数据；而表B中的一条数据，对应表A中的多条数据。</p>
<p><strong>互为一对多</strong></p>
<ul>
<li>学生和课程</li>
<li>订单和商品</li>
</ul>
<p><img src="D:\git\java-53-course-materials\02-DSDB\02-笔记\img-database\image-20220512095229401.png" alt="image-20220512095229401"></p>
<h2 id="数据库设计三大范式"><a href="#数据库设计三大范式" class="headerlink" title="数据库设计三大范式"></a>数据库设计三大范式</h2><p>数据库表设计的时候，应该遵循的规范。只有遵循了这些范式，设计出来的表才是好的。前人总结出来的一些原则，被称之为范式。</p>
<p>规范。</p>
<h3 id="第一范式"><a href="#第一范式" class="headerlink" title="第一范式"></a>第一范式</h3><p>每一列应该保持<span style='color:red;background:yellow;font-size:文字大小;font-family:字体;'><strong>原子性</strong></span>。在设计表格的时候，要遵守。</p>
<p>一定要留有一定空间，灵活空间。</p>
<blockquote>
<p>原子性：表示表中的数据都是一个不可拆分的最小单元。</p>
</blockquote>
<p><img src="D:\git\java-53-course-materials\02-DSDB\02-笔记\img-database\image-20220512101248071.png" alt="image-20220512101248071"></p>
<blockquote>
<p>第一范式：是跟着业务走的。但是业务是变动的，所以我们在设计表的时候，应该考虑之后业务的变化，来尽量的让每一列保持原子性。</p>
</blockquote>
<h3 id="第二范式"><a href="#第二范式" class="headerlink" title="第二范式"></a>第二范式</h3><p>记录的<span style='color:red;background:yellow;font-size:文字大小;font-family:字体;'><strong>唯一性</strong></span>。</p>
<p>唯一性是指每一条记录都有唯一的标识。例如<span style='color:red;background:yellow;font-size:文字大小;font-family:字体;'><strong>主键</strong></span>。表中必须得有一个 主键。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> test1(</span><br><span class="line">	id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment</span><br><span class="line">)</span><br></pre></td></tr></table></figure>



<h3 id="第三范式"><a href="#第三范式" class="headerlink" title="第三范式"></a>第三范式</h3><p>数据不要冗余。</p>
<p><img src="D:\git\java-53-course-materials\02-DSDB\02-笔记\img-database\image-20220512104553268.png" alt="image-20220512104553268"></p>
<p>在上表中，班主任名字重复存储了，冗余了</p>
<ul>
<li><p>缺点：</p>
<ol>
<li>重复存储了，需要占用更多的磁盘空间</li>
<li>如果要去修改某个老师的名字，那么需要在多个地方进行修改，增加了数据的维护成本</li>
</ol>
</li>
<li><p>优点：</p>
<ol>
<li>根据学生去查班主任的名字变得更简单了，查询效率变高了</li>
</ol>
</li>
</ul>
<blockquote>
<p>总结：冗余数据会使数据的维护成本增加，但是可以在某些场景中，方便数据的查询</p>
</blockquote>
<blockquote>
<p>那么在我们以后的工作中，要不要冗余数据呢？</p>
<p>要看情况。假如数据的查询需求远大于增删改的需求，那么可以考虑冗余数据；否则，不应该冗余数据，</p>
<p>这种冗余数据的做法叫“反范式化设计”。</p>
</blockquote>
<p>如果你想查的更快，而且你不是特别在意这些磁盘空间，增删改的次数比较少，可以考虑冗余数据。</p>
<p>冗余了数据之后，会让你查询变得更简单。</p>
<h2 id="多表查询"><a href="#多表查询" class="headerlink" title="多表查询"></a>多表查询</h2><p>多表查询是指在关系型数据库中，从多个表中查询数据的操作。多表查询可以帮助我们获得更加丰富的数据，以满足各种不同的需求。</p>
<h3 id="连接查询"><a href="#连接查询" class="headerlink" title="连接查询"></a>连接查询</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 如果这个表存在 就删除</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> <span class="keyword">user</span>;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> <span class="keyword">user</span>(</span><br><span class="line">	id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">	name <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">	password <span class="type">varchar</span>(<span class="number">255</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> user_detail;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> user_detail(</span><br><span class="line">	id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">	user_id <span class="type">int</span>,</span><br><span class="line">	address <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">	pic <span class="type">varchar</span>(<span class="number">255</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">user</span> <span class="keyword">values</span> (<span class="number">1</span>, &quot;猪八戒&quot;, &quot;zhubajie&quot;);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">user</span> <span class="keyword">values</span> (<span class="number">2</span>, &quot;孙悟空&quot;, &quot;sunwukong&quot;);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">user</span> <span class="keyword">values</span> (<span class="number">3</span>, &quot;白骨精&quot;, &quot;baigujing&quot;);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">user</span> <span class="keyword">values</span> (<span class="number">4</span>, &quot;唐僧&quot;, &quot;tangseng&quot;);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">user</span> <span class="keyword">values</span> (<span class="number">5</span>, &quot;沙僧&quot;, &quot;shaseng&quot;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="keyword">user</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> user_detail <span class="keyword">values</span>(<span class="keyword">null</span>, <span class="number">1</span>, &quot;高老庄&quot;, &quot;猪八戒.jpg&quot;);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> user_detail <span class="keyword">values</span>(<span class="keyword">null</span>, <span class="number">2</span>, &quot;花果山&quot;, &quot;孙悟空.jpg&quot;);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> user_detail <span class="keyword">values</span>(<span class="keyword">null</span>, <span class="number">3</span>, &quot;白虎岭&quot;, &quot;白骨精.jpg&quot;);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> user_detail <span class="keyword">values</span>(<span class="keyword">null</span>, <span class="number">4</span>, &quot;东土大唐&quot;, &quot;唐僧.jpg&quot;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> user_detail;</span><br></pre></td></tr></table></figure>

<p><img src="D:\git\java-53-course-materials\02-DSDB\02-笔记\img\image-20230410161359471.png" alt="image-20230410161359471"></p>
<h4 id="交叉连接"><a href="#交叉连接" class="headerlink" title="交叉连接"></a>交叉连接</h4><p>交叉连接其实就是求多个表的笛卡尔积。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 交叉连接</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">cross</span> <span class="keyword">join</span> user_detail;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>交叉连接的结果没有实际的意义。</p>
<p>但是内连接和外连接都是基于交叉连接的结果去筛选的。</p>
</blockquote>
<p>比如表A有3条数据，表B中有4条数据，最终会有3*4&#x3D;12条数据。这个被称为笛卡尔积</p>
<h4 id="内连接"><a href="#内连接" class="headerlink" title="内连接"></a>内连接</h4><p>内连接（inner join）是一种SQL中的表连接操作，用于将两个或多个表中的数据进行合并匹配。<font color=red><strong>内连接只返回两个表中具有相同值的行，也就是说，只有在连接列中存在匹配值的行才会被返回。</strong></font></p>
<p>内连接的语法如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> columns</span><br><span class="line"><span class="keyword">FROM</span> table1</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> table2</span><br><span class="line"><span class="keyword">ON</span> table1.column <span class="operator">=</span> table2.column;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 其中，columns是要返回的列，table1和table2是要连接的表，column是要连接的列。ON子句指定了连接条件，它指定了table1和table2之间的匹配条件。</span></span><br></pre></td></tr></table></figure>



<p>inner join</p>
<ul>
<li><p>显式</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 显式内连接</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">inner</span> <span class="keyword">join</span> user_detail <span class="keyword">on</span> </span><br><span class="line">user.id <span class="operator">=</span> user_detail.user_id;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 这个SQL语句将user和user_detail表连接起来，只返回两个表都有相同的id的行。</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>隐式</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 隐式内连接</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="keyword">user</span>,user_detail </span><br><span class="line"><span class="keyword">where</span> user.id <span class="operator">=</span>user_detail.user_id;</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="外连接"><a href="#外连接" class="headerlink" title="外连接"></a>外连接</h4><p>外连接（outer join）是一种SQL中的表连接操作，用于将两个或多个表中的数据进行合并匹配，<font color=red><strong>与内连接不同的是，外连接会返回左表或右表中即使没有匹配的行也会被返回，这些没有匹配的行将被填充为NULL值。</strong></font></p>
<p>外连接有左外连接（left outer join）、右外连接（right outer join）和全外连接（full outer join）三种类型。</p>
<p>说明：但是MySQL不支持全外连接。</p>
<p>左右表中的数据都保留。</p>
<p>outer可以省略掉。</p>
<p><font color=red><strong>左外连接</strong></font></p>
<p>左外连接返回左表中的所有行以及右表中与左表匹配的行，右表中没有匹配的行将被填充为NULL值。左外连接的语法如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> columns</span><br><span class="line"><span class="keyword">FROM</span> table1</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">OUTER</span> <span class="keyword">JOIN</span> table2</span><br><span class="line"><span class="keyword">ON</span> table1.column <span class="operator">=</span> table2.column;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 左外连接，保留匹配的数据。还会保留左表的所有数据</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 左外连接</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">left</span> <span class="keyword">outer</span> <span class="keyword">join</span> user_detail <span class="keyword">on</span> </span><br><span class="line">user.id <span class="operator">=</span> user_detail.user_id;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p><font color=red><strong>右外连接</strong></font></p>
<p>右外连接返回右表中的所有行以及左表中与右表匹配的行，左表中没有匹配的行将被填充为NULL值。右外连接的语法如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> columns</span><br><span class="line"><span class="keyword">FROM</span> table1</span><br><span class="line"><span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> table2</span><br><span class="line"><span class="keyword">ON</span> table1.column <span class="operator">=</span> table2.column;</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 右外连接</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">right</span> <span class="keyword">outer</span> <span class="keyword">join</span> user_detail <span class="keyword">on</span> </span><br><span class="line">user.id <span class="operator">=</span> user_detail.user_id;</span><br></pre></td></tr></table></figure>



<blockquote>
<p><span style='color:red;background:yellow;font-size:文字大小;font-family:字体;'><strong>连接查询最重要的，是找到连接的条件。</strong></span></p>
</blockquote>
<h2 id="子查询"><a href="#子查询" class="headerlink" title="子查询"></a>子查询</h2><p>在关系型数据库中，子查询是指在一个 SQL 语句中嵌套另一个 SQL 语句来实现查询的方式。子查询通常用于在查询结果中过滤、排序、分组或者统计数据，或者作为其他查询语句的一部分。</p>
<p>子查询可以嵌套多层，每一层都返回一个结果集供上一层使用。</p>
<p>子查询可以用于实现各种复杂的查询需求，例如，使用子查询查询最大值或最小值，使用子查询实现分组统计等等。但是，由于子查询会增加查询的复杂度和执行时间，因此在使用子查询时需要注意查询性能的影响。</p>
<p>一个SQL语句的结果可以作为另外一个SQL语句的条件。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 首先先拿到Java的id</span></span><br><span class="line"><span class="keyword">select</span> id <span class="keyword">from</span> tec_cource <span class="keyword">where</span> name<span class="operator">=</span><span class="string">&#x27;Java&#x27;</span>;</span><br><span class="line"><span class="comment">-- 然后再把这个id=1 放给第二个</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> tec_sele_cource <span class="keyword">where</span> cource_id<span class="operator">=</span><span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> tec_stu <span class="keyword">where</span> id <span class="keyword">in</span> (<span class="number">1</span>,<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 看学生信息</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> tec_stu <span class="keyword">where</span> id <span class="keyword">in</span> (</span><br><span class="line">    <span class="comment">-- 看哪些学生选了 Java</span></span><br><span class="line">	<span class="keyword">select</span> student_id <span class="keyword">from</span> tec_sele_cource <span class="keyword">where</span> cource_id<span class="operator">=</span>(</span><br><span class="line">        <span class="comment">-- 获取Java的id</span></span><br><span class="line">		<span class="keyword">select</span> id <span class="keyword">from</span> tec_cource <span class="keyword">where</span> name<span class="operator">=</span><span class="string">&#x27;Java&#x27;</span></span><br><span class="line">	)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>不建议大家用。效率差。因为每一层查询会生成临时表</p>
<h2 id="联合查询（了解）"><a href="#联合查询（了解）" class="headerlink" title="联合查询（了解）"></a>联合查询（了解）</h2><p>SQL支持把多个SQL语句的结果拼装起来。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 写了两个SQL。把两个SQL的结果拼接起来</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> students <span class="keyword">where</span> class <span class="operator">=</span> <span class="string">&#x27;一班&#x27;</span></span><br><span class="line"><span class="keyword">union</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> students <span class="keyword">where</span> class <span class="operator">=</span> <span class="string">&#x27;二班&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- union要求返回的列数目要一致 </span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 我们可以使用union关键字对SQL1和SQL2的结果去做并集，一般来说联合查询作用不大</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> students <span class="keyword">where</span> class <span class="keyword">in</span> (<span class="string">&#x27;一班&#x27;</span>,<span class="string">&#x27;二班&#x27;</span>);</span><br><span class="line"><span class="comment">-- 当上面这个SQL语句查询速度很慢的时候，可以考虑union联合查询来提高效率。</span></span><br></pre></td></tr></table></figure>





<h2 id="数据库的备份与恢复"><a href="#数据库的备份与恢复" class="headerlink" title="数据库的备份与恢复"></a>数据库的备份与恢复</h2><p>数据库是存储数据的地方。我们不希望数据库丢数据，如果丢了数据，对于企业的损失非常大。</p>
<p>所以我们需要了解数据库的备份和恢复手段。</p>
<p>备份产生的SQL，没有建库语句，需要你自己手动建一个库，然后再执行SQL。</p>
<h3 id="命令行"><a href="#命令行" class="headerlink" title="命令行"></a>命令行</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">备份</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1. 打开命令行</span></span><br><span class="line">mysqldump -uroot -p dbName&gt;/path/dbName.sql</span><br><span class="line"></span><br><span class="line">mysqldump -uroot -p test_52th3&gt;test52th.sql</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">在生成的sql文件中，主要做了三件事。 删表，建表，插数据</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">恢复</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1. 打开命令行</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2. 连接MySQL服务器</span></span><br><span class="line">mysql -uroot -p</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">3. 选中数据库（假如没有合适的数据库，可以新建一个）</span></span><br><span class="line">use dbName;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">4. 执行文件中的SQL语句，恢复数据</span></span><br><span class="line">source /path/dbName.sql</span><br><span class="line"></span><br><span class="line">source c:/Users/zhoubing/test52th.sql</span><br></pre></td></tr></table></figure>

<h3 id="Navicat"><a href="#Navicat" class="headerlink" title="Navicat"></a>Navicat</h3><p><img src="D:\git\java-53-course-materials\02-DSDB\02-笔记\img-database\image-20220512150057177.png" alt="image-20220512150057177"></p>
<p>备份和恢复有可能丢数据，所以我们需要检查数据是否完整，数据是否正确。</p>
<p>select count(*) from table_table;</p>
<p>我们在公司中，一般不会让大家去备份。</p>
<p>公司一般有专门，DBA 会干这个事情。</p>
<p>会写一定定时脚本，在专门的时间来执行备份操作。</p>
<p>DBA &#x3D; Database Administrator</p>
<p>如何去校验，数据库备份前和备份后的数据，是否一致。</p>
<p>人眼校验。不太可能。</p>
<p>一般会计算一个hash。然后比较hash。</p>
<p>在公司里面，每个人各司其职。 </p>
<p>图相关。图算法。</p>
<p>算法工程师。 </p>
<p>offer ： hr ,一面二面三面。 </p>
<p>2w &#x2F; 8h &#x2F;21天 &#x3D; 125一小时。 </p>
<p>1000。 </p>
<p>一个星期。 1个月。 </p>
<p>出道即巅峰。</p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/HTTP%E5%92%8CTomcat/" rel="tag"># HTTP和Tomcat</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2023/08/14/Java%E5%AD%A6%E4%B9%A0%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/7-HTTP%E5%92%8CTomcat/" rel="prev" title="7_HTTP和Tomcat">
                  <i class="fa fa-angle-left"></i> 7_HTTP和Tomcat
                </a>
            </div>
            <div class="post-nav-item">
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2023</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">染星辰</span>
  </div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  






  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>





</body>
</html>
